
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Triage.">
      
      
      
        <link rel="canonical" href="http://dssg.github.io/triage/experiments/running/">
      
      
        <link rel="prev" href="../feature-testing/">
      
      
        <link rel="next" href="../upgrade-to-v8/">
      
      
      <link rel="icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.4.6">
    
    
      
        <title>Running an Experiment - Triage Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../triage_docs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#running-an-experiment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Triage Documentation" class="md-header__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Triage Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Running an Experiment
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Triage Documentation" class="md-nav__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    Triage Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Online Tutorial (Google Colab)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get started with your own project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Get started with your own project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../triage_project_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suggested workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dirty Duck Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Dirty Duck Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/dirty_duckling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dirty duckling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Case studies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Case studies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/problem_description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problem description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/eis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Early Warning System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/inspections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource prioritization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Triage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/triage_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A deeper look into triage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Are you curious about the setup?
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Are you curious about the setup?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/data_preparation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data preparation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/for_the_impatient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Triage documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiment-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../feature-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Feature Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Running an Experiment
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Running an Experiment
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-example" class="md-nav__link">
    Simple Example
  </a>
  
    <nav class="md-nav" aria-label="Simple Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multicore-example" class="md-nav__link">
    Multicore example
  </a>
  
    <nav class="md-nav" aria-label="Multicore example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_1" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-s3-to-store-matrices-and-models" class="md-nav__link">
    Using S3 to store matrices and models
  </a>
  
    <nav class="md-nav" aria-label="Using S3 to store matrices and models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_2" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-an-experiment" class="md-nav__link">
    Validating an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Validating an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_3" class="md-nav__link">
    CLI
  </a>
  
    <nav class="md-nav" aria-label="CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restarting-an-experiment" class="md-nav__link">
    Restarting an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Restarting an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_4" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_4" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizing-an-experiment" class="md-nav__link">
    Optimizing an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Optimizing an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skipping-prediction-syncing" class="md-nav__link">
    Skipping Prediction Syncing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-parts-of-an-experiment" class="md-nav__link">
    Running parts of an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Running parts of an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_5" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-results-of-an-experiment" class="md-nav__link">
    Evaluating results of an Experiment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-an-experiment-before-running" class="md-nav__link">
    Inspecting an Experiment before running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizing-experiment-performance" class="md-nav__link">
    Optimizing Experiment Performance
  </a>
  
    <nav class="md-nav" aria-label="Optimizing Experiment Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profiling-an-experiment" class="md-nav__link">
    Profiling an Experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materialize_subquery_fromobjs" class="md-nav__link">
    materialize_subquery_fromobjs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-features-independently-of-cohort" class="md-nav__link">
    Build Features Independently of Cohort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallelize-big-models" class="md-nav__link">
    Parallelize Big Models
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experiment-classes" class="md-nav__link">
    Experiment Classes
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Upgrading an Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Upgrading an Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade-to-v8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v7 -> v8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade-to-v7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v6 -> v7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade-to-v6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v5 -> v6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade-to-v5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v3/v4 -> v5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../temporal-validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temporal Validation Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cohort-labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cohort and Label Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prediction-ranking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prediction Ranking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Generation Recipe Book
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model selection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Model selection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../audition/audition_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro to Audition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../audition/model_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Selection Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Postmodeling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Postmodeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../postmodeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Postmodeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../postmodeling/postmodeling-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postmodeling & Crosstabs Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/ml_governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../predictlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predictlist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../dirtyduck/aws_batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaling up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Provisioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8_1" >
        
          
          <label class="md-nav__link" for="__nav_5_8_1" id="__nav_5_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Audition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8_1">
            <span class="md-nav__icon md-icon"></span>
            Audition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/auditioner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auditioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/audition-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audition Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/selection_rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selection Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/database-dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Dependencies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-example" class="md-nav__link">
    Simple Example
  </a>
  
    <nav class="md-nav" aria-label="Simple Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multicore-example" class="md-nav__link">
    Multicore example
  </a>
  
    <nav class="md-nav" aria-label="Multicore example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_1" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-s3-to-store-matrices-and-models" class="md-nav__link">
    Using S3 to store matrices and models
  </a>
  
    <nav class="md-nav" aria-label="Using S3 to store matrices and models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_2" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-an-experiment" class="md-nav__link">
    Validating an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Validating an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_3" class="md-nav__link">
    CLI
  </a>
  
    <nav class="md-nav" aria-label="CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restarting-an-experiment" class="md-nav__link">
    Restarting an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Restarting an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli_4" class="md-nav__link">
    CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_4" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizing-an-experiment" class="md-nav__link">
    Optimizing an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Optimizing an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skipping-prediction-syncing" class="md-nav__link">
    Skipping Prediction Syncing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-parts-of-an-experiment" class="md-nav__link">
    Running parts of an Experiment
  </a>
  
    <nav class="md-nav" aria-label="Running parts of an Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_5" class="md-nav__link">
    Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluating-results-of-an-experiment" class="md-nav__link">
    Evaluating results of an Experiment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspecting-an-experiment-before-running" class="md-nav__link">
    Inspecting an Experiment before running
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizing-experiment-performance" class="md-nav__link">
    Optimizing Experiment Performance
  </a>
  
    <nav class="md-nav" aria-label="Optimizing Experiment Performance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profiling-an-experiment" class="md-nav__link">
    Profiling an Experiment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materialize_subquery_fromobjs" class="md-nav__link">
    materialize_subquery_fromobjs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-features-independently-of-cohort" class="md-nav__link">
    Build Features Independently of Cohort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallelize-big-models" class="md-nav__link">
    Parallelize Big Models
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experiment-classes" class="md-nav__link">
    Experiment Classes
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="running-an-experiment">Running an Experiment<a class="headerlink" href="#running-an-experiment" title="Permanent link">#</a></h1>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h2>
<p>To use a Triage experiment, you first need:</p>
<ul>
<li>Python 3.8+</li>
<li>A PostgreSQL (v9.6+) database with your source data (events, geographical data, etc) loaded.</li>
<li>Ample space on an available disk (or S3) to store the needed matrices and models for your experiment</li>
<li>An experiment definition (see <a href="../experiment-config/">Experiment configuration</a>)</li>
</ul>
<p>You may run a Triage experiment two ways: through the Triage command line tool, or through instantiating an Experiment object in your own Python code and running it. The rest of this document will introduce experiment runs of increasing complexity, through both the CLI and Python interfaces.</p>
<h2 id="simple-example">Simple Example<a class="headerlink" href="#simple-example" title="Permanent link">#</a></h2>
<p>To run an experiment, you need to tell triage at a minimum where to find the experiment file (in YAML format), and how to connect to the database, In this simple example, we're assuming that the experiment will be run with only one process, and that the matrices and models should be stored on the local filesystem.</p>
<h3 id="cli">CLI<a class="headerlink" href="#cli" title="Permanent link">#</a></h3>
<p>The Triage CLI defaults database connection information to a file stored in 'database.yaml', so with this you can omit any mention of the database. In addition, if you leave out the project path. In addition, the 'project path' (where matrices and models are stored) defaults to the current working directory. So this is the simplest possible invocation:</p>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml
</code></pre></div>
<p>If you have the database information stored somewhere else, you may pass it to the top-level 'triage' command:</p>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>-d<span class="w"> </span>mydbconfig.yaml<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml
</code></pre></div>
<p>Assuming you want the matrices and models stored somewhere else, pass it as the <code>--project-path</code>:</p>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>-d<span class="w"> </span>mydbconfig.yaml<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml<span class="w"> </span>--project-path<span class="w"> </span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span>
</code></pre></div>
<h3 id="python">Python<a class="headerlink" href="#python" title="Permanent link">#</a></h3>
<p>When running an experiment in Python, the database information is passed in the form of a SQLAlchemy database engine, and the experiment information is passed as a dictionary rather as YAML specifically.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">triage.experiments</span><span class="w"> </span><span class="kn">import</span> <span class="n">SingleThreadedExperiment</span>

<span class="n">experiment</span> <span class="o">=</span> <span class="n">SingleThreadedExperiment</span><span class="p">(</span>
    <span class="n">config</span><span class="o">=</span><span class="n">experiment_config</span><span class="p">,</span> <span class="c1"># a dictionary</span>
    <span class="n">db_engine</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="c1"># http://docs.sqlalchemy.org/en/latest/core/engines.html</span>
    <span class="n">project_path</span><span class="o">=</span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span>
<span class="p">)</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<p>Either way you run it, you are likely to see a bunch of log output.  Once the feature/cohor/label/matrix building is done and the experiment has moved onto modeling, check out the <code>triage_metadata.models</code> and <code>test_results.evaluations</code> tables as data starts to come in. You'll see the simple models (Decision Trees, Scaled Logistic Regression, baselines) populate first, followed by your big models, followed by the rest. You can start to look at the simple model results first to get a handle on what basic classifiers can do for your feature space while you wait for the Random Forests to run.</p>
<h2 id="multicore-example">Multicore example<a class="headerlink" href="#multicore-example" title="Permanent link">#</a></h2>
<p>Triage also offers the ability to locally parallelize both CPU-heavy and database-heavy tasks. Triage uses the <a href="https://pythonhosted.org/Pebble">pebble</a> library to perform both of these, but they are separately configurable as the database tasks will more likely be bounded by the number of connections/cores available on the database server instead of the number of cores available on the experiment running machine.</p>
<h3 id="cli_1">CLI<a class="headerlink" href="#cli_1" title="Permanent link">#</a></h3>
<p>The Triage CLI allows parallelization to be specified through the <code>--n-processes</code> and <code>--n-db-processes</code> parameters.</p>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml<span class="w"> </span>--project-path<span class="w"> </span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span><span class="w"> </span>--n-db-processes<span class="w"> </span><span class="m">4</span><span class="w"> </span>--n-processes<span class="w"> </span><span class="m">8</span>
</code></pre></div>
<h3 id="python_1">Python<a class="headerlink" href="#python_1" title="Permanent link">#</a></h3>
<p>In Python, you can use the <code>MultiCoreExperiment</code> instead of the <code>SingleThreadedExperiment</code>, and similarly pass the <code>n_processes</code> and <code>n_db_processes</code> parameters. We also recommend using <code>triage.create_engine</code>. It will create a serializable version of the engine that will be fully reconstructed in multiprocess contexts. If you pass a regular SQLAlchemy engine, in these contexts the engine will be reconstructed with the <a href="http://docs.sqlalchemy.org/en/latest/core/engines.html#database-urls">database URL only</a>, which may cancel other settings you have used to configure your engine.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">triage.experiments</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiCoreExperiment</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">triage</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>

<span class="n">experiment</span> <span class="o">=</span> <span class="n">MultiCoreExperiment</span><span class="p">(</span>
    <span class="n">config</span><span class="o">=</span><span class="n">experiment_config</span><span class="p">,</span> <span class="c1"># a dictionary</span>
    <span class="n">db_engine</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">project_path</span><span class="o">=</span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span><span class="p">,</span>
    <span class="n">n_db_processes</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">n_processes</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<p>The <a href="https://pythonhosted.org/Pebble">pebble</a> library offers an interface around Python3's <code>concurrent.futures</code> module that adds in a very helpful tool: watching for killed subprocesses . Model training (and sometimes, matrix building) can be a memory-hungry task, and Triage can not guarantee that the operating system you're running on won't kill the worker processes in a way that prevents them from reporting back to the parent Experiment process. With Pebble, this occurrence is caught like a regular Exception, which allows the Process pool to recover and include the information in the Experiment's log.</p>
<h2 id="using-s3-to-store-matrices-and-models">Using S3 to store matrices and models<a class="headerlink" href="#using-s3-to-store-matrices-and-models" title="Permanent link">#</a></h2>
<p>Triage can operate on different storage engines for matrices and models, and besides the standard filesystem engine comes with S3 support out of the box. To use this, just use the <code>s3://</code> scheme for your <code>project_path</code> (this is similar for both Python and the CLI).</p>
<h3 id="cli_2">CLI<a class="headerlink" href="#cli_2" title="Permanent link">#</a></h3>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml<span class="w"> </span>--project-path<span class="w"> </span><span class="s1">&#39;s3://bucket/directory/to/save/data&#39;</span>
</code></pre></div>
<h3 id="python_2">Python<a class="headerlink" href="#python_2" title="Permanent link">#</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">triage.experiments</span><span class="w"> </span><span class="kn">import</span> <span class="n">SingleThreadedExperiment</span>

<span class="n">experiment</span> <span class="o">=</span> <span class="n">SingleThreadedExperiment</span><span class="p">(</span>
    <span class="n">config</span><span class="o">=</span><span class="n">experiment_config</span><span class="p">,</span> <span class="c1"># a dictionary</span>
    <span class="n">db_engine</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">project_path</span><span class="o">=</span><span class="s1">&#39;s3://bucket/directory/to/save/data&#39;</span>
<span class="p">)</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<h2 id="validating-an-experiment">Validating an Experiment<a class="headerlink" href="#validating-an-experiment" title="Permanent link">#</a></h2>
<p>Configuring an experiment is complex, and running an experiment can take a long time as data scales up. If there are any misconfigured values, it's going to help out a lot to figure out what they are before we run the Experiment. So when you have completed your experiment config and want to test it out, it's best to validate the Experiment first. If any problems are detectable in your Experiment, either in configuration or the database tables referenced by it, this method will throw an exception. For instance, if I refer to the <code>cat_complaints</code> table in a feature aggregation but it doesn't exist, I'll see something like this:</p>
<div class="highlight"><pre><span></span><code>*** ValueError: from_obj query does not run.
from_obj: &quot;cat_complaints&quot;
Full error: (psycopg2.ProgrammingError) relation &quot;cat_complaints&quot; does not exist
LINE 1: explain select * from cat_complaints
                              ^
 [SQL: &#39;explain select * from cat_complaints&#39;]
</code></pre></div>
<h3 id="cli_3">CLI<a class="headerlink" href="#cli_3" title="Permanent link">#</a></h3>
<p>The CLI, by default, validates before running. You can tweak this behavior, and make it not validate, or make it <em>only</em> validate.</p>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml<span class="w"> </span>--project-path<span class="w"> </span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span><span class="w"> </span>--no-validate
</code></pre></div>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml<span class="w"> </span>--project-path<span class="w"> </span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span><span class="w"> </span>--validate-only
</code></pre></div>
<h4 id="python_3">Python<a class="headerlink" href="#python_3" title="Permanent link">#</a></h4>
<p>The python interface will also validate by default when running an experiment. If you would prefer to skip this step, you can pass <code>skip_validation=True</code> when constructing your experiment.</p>
<p>You can also run this validation step directly. Experiments expose a <code>validate</code> method that can be run as needed. Experiment instantiation doesn't change from the run examples at all.</p>
<div class="highlight"><pre><span></span><code><span class="n">experiment</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</code></pre></div>
<p>By default, the <code>validate</code> method will stop as soon as it encounters an error ('strict' mode). If you would like it to validate each section without stopping (i.e. if you have only written part of the experiment configuration), call <code>validate(strict=False)</code> and all of the errors will be changed to warnings.</p>
<p>We'd like to add more validations for common misconfiguration problems over time. If you got an unexpected error that turned out to be related to a confusing configuration value, help us out by adding to the <a href="https://github.com/dssg/triage/blob/master/src/triage/experiments/validate.py">validation module</a> and submitting a pull request!</p>
<h2 id="restarting-an-experiment">Restarting an Experiment<a class="headerlink" href="#restarting-an-experiment" title="Permanent link">#</a></h2>
<p>If an experiment fails for any reason, you can restart it.</p>
<p>By default, all work will be recreated. This includes label queries, feature queries, matrix building, model training, etc. However, if you pass the <code>replace=False</code> keyword argument, the Experiment will reuse what work it can.</p>
<ul>
<li>Cohort Table: The Experiment refers to a cohort table namespaced by the cohort name and a hash of the cohort query, and in that way allows you to reuse cohorts between different experiments if their label names and queries are identical. When referring to this table, it will check on an as-of-date level whether or not there are any existing rows for that date, and skip the cohort query for that date if so. For this reason, it is <em>not</em> aware of specific entities or source events so if the source data has changed, ensure that <code>replace</code> is set to True. </li>
<li>Labels Table: The Experiment refers to a labels table namespaced by the label name and a hash of the label query, and in that way allows you to reuse labels between different experiments if their label names and queries are identical. When referring to this table, it will check on a per-<code>as_of_date</code>/<code>label timespan</code> level whether or not there are <em>any</em> existing rows, and skip the label query if so. For this reason, it is <em>not</em> aware of specific entities or source events so if the label query has changed or the source data has changed, ensure that <code>replace</code> is set to True.</li>
<li>Features Tables: The Experiment will check on a per-table basis whether or not it exists and contains rows for the entire cohort, and skip the feature generation if so. It does not look at the column list for the feature table or inspect the feature data itself. So, if you have modified any source data that affects a feature aggregation, or added any columns to that aggregation, you won't want to set <code>replace</code> to False. However, it is cohort-and-date aware so you can change around your cohort and temporal configuration safely.</li>
<li>Matrix Building: Each matrix's metadata is hashed to create a unique id. If a file exists in storage with that hash, it will be reused.</li>
<li>Model Training: Each model's metadata (which includes its train matrix's hash) is hashed to create a unique id. If a file exists in storage with that hash, it will be reused.</li>
</ul>
<h3 id="cli_4">CLI<a class="headerlink" href="#cli_4" title="Permanent link">#</a></h3>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>example/config/experiment.yaml<span class="w"> </span>--project-path<span class="w"> </span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span><span class="w"> </span>--replace
</code></pre></div>
<h3 id="python_4">Python<a class="headerlink" href="#python_4" title="Permanent link">#</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">triage.experiments</span><span class="w"> </span><span class="kn">import</span> <span class="n">SingleThreadedExperiment</span>

<span class="n">experiment</span> <span class="o">=</span> <span class="n">SingleThreadedExperiment</span><span class="p">(</span>
    <span class="n">config</span><span class="o">=</span><span class="n">experiment_config</span><span class="p">,</span> <span class="c1"># a dictionary</span>
    <span class="n">db_engine</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">project_path</span><span class="o">=</span><span class="s1">&#39;s3://bucket/directory/to/save/data&#39;</span><span class="p">,</span>
    <span class="n">replace</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<h2 id="optimizing-an-experiment">Optimizing an Experiment<a class="headerlink" href="#optimizing-an-experiment" title="Permanent link">#</a></h2>
<h3 id="skipping-prediction-syncing">Skipping Prediction Syncing<a class="headerlink" href="#skipping-prediction-syncing" title="Permanent link">#</a></h3>
<p>By default, the Experiment will save predictions to the database. This can take a long time if your test matrices have a lot of rows, and isn't quite necessary if you just want to see the high-level performance of your grid. By switching <code>save_predictions</code> to <code>False</code>, you can skip the prediction saving. You'll still get your evaluation metrics, so you can look at performance. Don't worry, you can still get your predictions back later by rerunning the Experiment later at default settings, which will find your already-trained models, generate predictions, and save them.</p>
<p>CLI: <code>triage experiment myexperiment.yaml --no-save-predictions</code></p>
<p>Python: <code>SingleThreadedExperiment(..., save_predictions=False)</code></p>
<h2 id="running-parts-of-an-experiment">Running parts of an Experiment<a class="headerlink" href="#running-parts-of-an-experiment" title="Permanent link">#</a></h2>
<p>If you would like incrementally build, or just incrementally run parts of the Experiment look at their outputs, you can do so. Running a full experiment requires the <a href="https://github.com/dssg/triage/blob/master/example/config/experiment.yaml">experiment config</a> to be filled out, but when you're getting started using Triage it can be easier to build the experiment piece by piece and see the results as they come in. Make sure logging is set to INFO level before running this to ensure you get all the log messages. Additionally, because the default behavior of triage is to run config file validation (which expects a complete experiment configuration) and fill in missing values in some sections with defaults, you will need to pass <code>partial_run=True</code> when constructing your experiment object for a partial experiment (this will also avoid cleaning up intermediate tables from the run, equivalent to <code>cleanup=False</code>).</p>
<p>Running parts of an experiment is only supported through the Python interface.</p>
<h3 id="python_5">Python<a class="headerlink" href="#python_5" title="Permanent link">#</a></h3>
<ol>
<li>
<p><code>experiment.run()</code> will run until it no longer has enough configuration to proceed. You will see information in the logs telling you about the steps it was able to perform. You can additionally view the intermediate tables that are built in the database, which are modified with the experiment hash that the experiment calculates, but this will be printed out in the log messages.</p>
<ul>
<li><code>labels_*&lt;experiment_hash&gt;*</code> for the labels generated per entity and as of date.</li>
<li><code>tmp_sparse_states_*&lt;experiment_hash&gt;*</code> for the membership in each cohort per entity and as_of_date</li>
</ul>
</li>
<li>
<p>To reproduce the entire Experiment piece by piece, you can run the following. Each one of these methods requires some portion of <a href="https://github.com/dssg/triage/blob/master/example/config/experiment.yaml">experiment config</a> to be passed:</p>
<ul>
<li>
<p><code>experiment.split_definitions</code> will parse temporal config and create time splits. It only requires <code>temporal_config</code>.</p>
</li>
<li>
<p><code>experiment.generate_cohort()</code> will use the cohort config and as of dates from the temporal config to generate an internal table keeping track of what entities are in the cohort on different dates. It requires <code>temporal_config</code> and <code>cohort_config</code>.</p>
</li>
<li>
<p><code>experiment.generate_labels()</code> will use the label config and as of dates from the temporal config to generate an internal labels table. It requires <code>temporal_config</code> and <code>label_config</code>.</p>
</li>
<li>
<p><code>experiment.generate_preimputation_features()</code> will use the feature aggregation config and as of dates from the temporal config to generate internal features tables. It requires <code>temporal_config</code> and <code>feature_aggregations</code>.</p>
</li>
<li>
<p><code>experiment.generate_imputed_features()</code> will use the imputation sections of the feature aggregation config and the results from the preimputed features to create internal imputed features tables. It requires <code>temporal_config</code> and <code>feature_aggregations</code>.</p>
</li>
<li>
<p><code>experiment.build_matrices()</code> will use all of the internal tables generated before this point, along with feature grouping config, to generate all needed matrices.  It requires <code>temporal_config</code>, <code>cohort_config</code>, <code>label_config</code>, and <code>feature_aggregations</code>, though it will also use <code>feature_group_definitions</code>, <code>feature_group_strategies</code>, and <code>user_metadata</code> if present.</p>
</li>
<li>
<p><code>experiment.train_and_test_models()</code> will use the generated matrices, grid config and evaluation metric config to train and test all needed models. It requires all configuration keys.</p>
</li>
</ul>
</li>
</ol>
<h2 id="evaluating-results-of-an-experiment">Evaluating results of an Experiment<a class="headerlink" href="#evaluating-results-of-an-experiment" title="Permanent link">#</a></h2>
<p>After the experiment run, a variety of schemas and tables will be created and populated in the configured database:</p>
<ul>
<li>triage_metadata.experiments - The experiment configuration, a hash, and some run-invariant details about the configuration</li>
<li>triage_metadata.experiment_runs - Information about the experiment run that may change from run to run, pertaining to the run environment, status, and results</li>
<li>triage_metadata.matrices - Each train or test matrix that is built has a row here, with some basic metadata</li>
<li>triage_metadata.experiment_matrices - A many-to-many table between experiments and matrices. This will have a row if the experiment used the matrix, regardless of whether or not it had to build it</li>
<li>triage_metadata.models - A model describes a trained classifier; you'll have one row for each trained file that gets saved.</li>
<li>triage_metadata.experiment_models - A many-to-many table between experiments and models. This will have a row if the experiment used the model, regardless of whether or not it had to build it</li>
<li>triage_metadata.model_groups - A model groups refers to all models that share parameters like classifier type, hyperparameters, etc, but <em>have different training windows</em>. Look at these to see how classifiers perform over different training windows.</li>
<li>triage_metadata.matrices - Each matrix that was used for training and testing has metadata written about it such as the matrix hash, length, and time configuration.</li>
<li>triage_metadata.subsets - Each evaluation subset that was used for model scoring has its configuation and a hash written here</li>
<li>train_results.feature_importances - The sklearn feature importances results for each trained model</li>
<li>train_results.predictions - Prediction probabilities for train matrix entities generated against trained models</li>
<li>train_results.prediction_metadata - Metadata about the prediction stage for a model and train matrix, such as tiebreaking configuration</li>
<li>train_results.evaluations - Metric scores of trained models on the training data.</li>
<li>test_results.predictions - Prediction probabilities for test matrix entities generated against trained models</li>
<li>test_results.prediction_metadata - Metadata about the prediction stage for a model and test matrix, such as tiebreaking configuration</li>
<li>test_results.evaluations - Metric scores of trained models over given testing windows and subsets</li>
<li>test_results.individual_importances - Individual feature importance scores for test matrix entities.</li>
</ul>
<p>Here's an example query, which returns the top 10 model groups by precision at the top 100 entities:</p>
<div class="highlight"><pre><span></span><code>    select
        model_groups.model_group_id,
        model_groups.model_type,
        model_groups.hyperparameters,
        max(test_evaluations.value) as max_precision
    from triage_metadata.model_groups
        join triage_metadata.models using (model_group_id)
        join test_results.evaluations using (model_id)
    where
        metric = &#39;precision@&#39;
        and parameter = &#39;100_abs&#39;
    group by 1,2,3
    order by 4 desc
    limit 10
</code></pre></div>
<h2 id="inspecting-an-experiment-before-running">Inspecting an Experiment before running<a class="headerlink" href="#inspecting-an-experiment-before-running" title="Permanent link">#</a></h2>
<p>Before you run an experiment, you can inspect properties of the Experiment object to ensure that it is configured in the way you want. Some examples:</p>
<ul>
<li><code>experiment.all_as_of_times</code> for debugging temporal config. This will show all dates that features and labels will be calculated at.</li>
<li><code>experiment.feature_dicts</code> will output a list of feature dictionaries, representing the feature tables and columns configured in this experiment</li>
<li><code>experiment.matrix_build_tasks</code> will output a list representing each matrix that will be built.</li>
</ul>
<h2 id="optimizing-experiment-performance">Optimizing Experiment Performance<a class="headerlink" href="#optimizing-experiment-performance" title="Permanent link">#</a></h2>
<h3 id="profiling-an-experiment">Profiling an Experiment<a class="headerlink" href="#profiling-an-experiment" title="Permanent link">#</a></h3>
<p>Experiment running slowly? Try the <code>profile</code> keyword argument, or <code>--profile</code> in the command line. This will output a cProfile file to the project path's <code>profiling_stats</code> directory.  This is a binary format but can be read with a variety of visualization programs.</p>
<p><a href="https://jiffyclub.github.io/snakeviz/">snakeviz</a> - A browser based graphical viewer.
<a href="https://github.com/nschloe/tuna">tuna</a> - Another browser based graphical viewer
<a href="https://github.com/jrfonseca/gprof2dot">gprof2dot</a> - A command-line tool to convert files to graphviz format
<a href="https://pypi.org/project/pyprof2calltree/">pyprof2calltree</a> - A command-line tool to convert files to Valgrind log format, for viewing in established viewers like KCacheGrind</p>
<p>Looking at the profile through a visualization program, you can see which portions of the experiment are taking up the most time. Based on this, you may be able to prioritize changes. For instance, if cohort/label/feature table generation are taking up the bulk of the time, you may add indexes to source tables, or increase the number of database processes. On the other hand, if model training is the culprit, you may temporarily try a smaller grid to get results more quickly.</p>
<h3 id="materialize_subquery_fromobjs">materialize_subquery_fromobjs<a class="headerlink" href="#materialize_subquery_fromobjs" title="Permanent link">#</a></h3>
<p>By default, experiments will inspect the <code>from_obj</code> of every feature aggregation to see if it looks like a subquery, create a table out of it if so, index it on the <code>knowledge_date_column</code> and <code>entity_id</code>, and use that for running feature queries. This can make feature generation go a lot faster if the <code>from_obj</code> takes a decent amount of time to run and/or there are a lot of as-of-dates in the experiment. It won't do this for <code>from_objs</code> that are just tables, or simple joins (e.g. <code>entities join events using (entity_id)</code>) as the existing indexes you have on those tables should work just fine.</p>
<p>You can turn this off if you'd like, which you may want to do if the <code>from_obj</code> subqueries return a lot of data and you want to save as much disk space as possible. The option is turned off by passing <code>materialize_subquery_fromobjs=False</code> to the Experiment.</p>
<h3 id="build-features-independently-of-cohort">Build Features Independently of Cohort<a class="headerlink" href="#build-features-independently-of-cohort" title="Permanent link">#</a></h3>
<p>By default the feature queries generated by your feature configuration on any given date are joined with the cohort table on that date, which means that no features for entities not in the cohort are saved. This is to save time and database disk space when your cohort on any given date is not very large and allow you to iterate on feature building quickly by default. However, this means that anytime you change your cohort, you have to rebuild all of your features. Depending on your experiment setup (for instance, multiple large cohorts that you experiment with), this may be time-consuming. Change this by passing <code>features_ignore_cohort=True</code> to the Experiment constructor, or <code>--save-all-features</code> to the command-line.</p>
<h3 id="parallelize-big-models">Parallelize Big Models<a class="headerlink" href="#parallelize-big-models" title="Permanent link">#</a></h3>
<p>The model training runs in three batches, each holding different classifiers. By default, different types of classifiers go into each batch:
1. Simple classifiers that are quick to train, such as Logistic Regression, Decision Trees, and any baseline classifiers. These are first to allow the Triage user to look at their results in the database when they complete and get quick feedback on the features/cohort/labels.
2. 'Big' classifiers, such as Random Forests, ExtraTrees, and different boosting classifiers such as LightGBM and XGBoost. These come next as they generally have the best results. 
3. All other classifiers. These are parallelized with <code>n_processes</code>.</p>
<p>The following options relate to parallelization:</p>
<ul>
<li><code>--n-processes</code> (CLI) / <code>n_processes</code> (Python) - Controls how many parallel processes are used to train in batches 1 and 3. It is generally safe to set this to a high number to get simple classifier results as fast as possible.</li>
<li><code>--n-bigtrain-processes</code> (CLI) / <code>n_bigtrain_processes</code> (Python) - Controls how many parallel processes are used to train in batch 2. The default is 1, which makes sense if n_jobs on the hyperparameters is set to -1. In this way, the big classifiers will run serially which is safer from a memory perspective. But power users could set <code>n_bigtrain_processes</code> to something greater than 1 if memory isn't a problem.</li>
<li><code>--add-bigtrain-classes</code> (CLI) / <code>additional_bigtrain_classnames</code> (Python) - Adds a classpath into batch 2. The default list of 'big' classifiers should be good for most Triage users, but if you have a boosting library that isn't recognized by Triage yet, you could add it here. Note: The CLI option is a repeatable option, which requires a <code>--</code> at the end so the shell can understand when the option list is done. Example: <code>triage --add-bigtrain-classes my.class.path1 my.class.path2 -- experiment_config.yaml</code></li>
</ul>
<h2 id="experiment-classes">Experiment Classes<a class="headerlink" href="#experiment-classes" title="Permanent link">#</a></h2>
<ul>
<li><em>SingleThreadedExperiment</em>: An experiment that performs all tasks serially in a single thread. Good for simple use on small datasets, or for understanding the general flow of data through a pipeline.</li>
<li><em>MultiCoreExperiment</em>: An experiment that makes use of the pebble library to parallelize various time-consuming steps. Takes an <code>n_processes</code> keyword argument to control how many workers to use.</li>
<li><em>RQExperiment</em>: An experiment that makes use of the python-rq library to enqueue individual tasks onto the default queue, and wait for the jobs to be finished before moving on. python-rq requires Redis and any number of worker processes running the Triage codebase. Triage does not set up any of this needed infrastructure for you. Available through the RQ extra ( <code>pip install triage[rq]</code> )</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dssg/triage" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/datascifellows" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/center-for-data-science-and-public-policy-university-of-chicago" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../js/mermaid.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>