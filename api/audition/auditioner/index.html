
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Triage.">
      
      
      
        <link rel="canonical" href="http://dssg.github.io/triage/api/audition/auditioner/">
      
      
        <link rel="prev" href="../../../db/">
      
      
        <link rel="next" href="../audition-config/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.4.6">
    
    
      
        <title>Auditioner - Triage Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../triage_docs.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#triage.component.audition-attributes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Triage Documentation" class="md-header__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Triage Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auditioner
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Triage Documentation" class="md-nav__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    Triage Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Online Tutorial (Google Colab)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get started with your own project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Get started with your own project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../triage_project_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suggested workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dirty Duck Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Dirty Duck Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/dirty_duckling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dirty duckling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Case studies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Case studies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/problem_description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problem description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/eis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Early Warning System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/inspections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource prioritization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Triage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/triage_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A deeper look into triage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Are you curious about the setup?
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Are you curious about the setup?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/data_preparation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data preparation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/for_the_impatient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Triage documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/experiment-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/feature-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Feature Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running an Experiment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Upgrading an Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Upgrading an Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/upgrade-to-v8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v7 -> v8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/upgrade-to-v7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v6 -> v7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/upgrade-to-v6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v5 -> v6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/upgrade-to-v5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v3/v4 -> v5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/temporal-validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temporal Validation Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/cohort-labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cohort and Label Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/prediction-ranking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prediction Ranking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Generation Recipe Book
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../experiments/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model selection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Model selection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../audition/audition_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro to Audition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../audition/model_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Selection Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Postmodeling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Postmodeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../postmodeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Postmodeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../postmodeling/postmodeling-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postmodeling & Crosstabs Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/ml_governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../predictlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predictlist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../dirtyduck/aws_batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaling up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Provisioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" checked>
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_8_1" id="__nav_5_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Audition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_8_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_8_1">
            <span class="md-nav__icon md-icon"></span>
            Audition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Auditioner
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Auditioner
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#triage.component.audition-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triage.component.audition-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner" class="md-nav__link">
    AuditionRunner
  </a>
  
    <nav class="md-nav" aria-label="AuditionRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.db_engine" class="md-nav__link">
    db_engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.dir" class="md-nav__link">
    dir
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.__init__" class="md-nav__link">
    __init__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.run" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.validate" class="md-nav__link">
    validate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner" class="md-nav__link">
    Auditioner
  </a>
  
    <nav class="md-nav" aria-label="Auditioner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.average_regret_for_rules" class="md-nav__link">
    average_regret_for_rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.baseline_model_groups" class="md-nav__link">
    baseline_model_groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.best_distance_plotter" class="md-nav__link">
    best_distance_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.directory" class="md-nav__link">
    directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.distance_from_best_table" class="md-nav__link">
    distance_from_best_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.first_pass_model_groups" class="md-nav__link">
    first_pass_model_groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.metric_filters" class="md-nav__link">
    metric_filters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.metrics" class="md-nav__link">
    metrics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.model_group_performance_plotter" class="md-nav__link">
    model_group_performance_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.model_group_thresholder" class="md-nav__link">
    model_group_thresholder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.results_for_rule" class="md-nav__link">
    results_for_rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_model_group_ids" class="md-nav__link">
    selection_rule_model_group_ids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_performance_plotter" class="md-nav__link">
    selection_rule_performance_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_picker" class="md-nav__link">
    selection_rule_picker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_plotter" class="md-nav__link">
    selection_rule_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.thresholded_model_group_ids" class="md-nav__link">
    thresholded_model_group_ids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.train_end_times" class="md-nav__link">
    train_end_times
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.__init__" class="md-nav__link">
    __init__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.plot_model_groups" class="md-nav__link">
    plot_model_groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.plot_selection_rules" class="md-nav__link">
    plot_selection_rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.register_selection_rule_grid" class="md-nav__link">
    register_selection_rule_grid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.save_result_model_group_ids" class="md-nav__link">
    save_result_model_group_ids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.set_one_metric_filter" class="md-nav__link">
    set_one_metric_filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.update_metric_filters" class="md-nav__link">
    update_metric_filters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triage.component.audition-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../audition-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audition Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../selection_rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selection Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../database-dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Dependencies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#triage.component.audition-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triage.component.audition-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner" class="md-nav__link">
    AuditionRunner
  </a>
  
    <nav class="md-nav" aria-label="AuditionRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.db_engine" class="md-nav__link">
    db_engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.dir" class="md-nav__link">
    dir
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.__init__" class="md-nav__link">
    __init__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.run" class="md-nav__link">
    run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.AuditionRunner.validate" class="md-nav__link">
    validate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner" class="md-nav__link">
    Auditioner
  </a>
  
    <nav class="md-nav" aria-label="Auditioner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.average_regret_for_rules" class="md-nav__link">
    average_regret_for_rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.baseline_model_groups" class="md-nav__link">
    baseline_model_groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.best_distance_plotter" class="md-nav__link">
    best_distance_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.directory" class="md-nav__link">
    directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.distance_from_best_table" class="md-nav__link">
    distance_from_best_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.first_pass_model_groups" class="md-nav__link">
    first_pass_model_groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.metric_filters" class="md-nav__link">
    metric_filters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.metrics" class="md-nav__link">
    metrics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.model_group_performance_plotter" class="md-nav__link">
    model_group_performance_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.model_group_thresholder" class="md-nav__link">
    model_group_thresholder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.results_for_rule" class="md-nav__link">
    results_for_rule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_model_group_ids" class="md-nav__link">
    selection_rule_model_group_ids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_performance_plotter" class="md-nav__link">
    selection_rule_performance_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_picker" class="md-nav__link">
    selection_rule_picker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.selection_rule_plotter" class="md-nav__link">
    selection_rule_plotter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.thresholded_model_group_ids" class="md-nav__link">
    thresholded_model_group_ids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.train_end_times" class="md-nav__link">
    train_end_times
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.__init__" class="md-nav__link">
    __init__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.plot_model_groups" class="md-nav__link">
    plot_model_groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.plot_selection_rules" class="md-nav__link">
    plot_selection_rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.register_selection_rule_grid" class="md-nav__link">
    register_selection_rule_grid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.save_result_model_group_ids" class="md-nav__link">
    save_result_model_group_ids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.set_one_metric_filter" class="md-nav__link">
    set_one_metric_filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triage.component.audition.Auditioner.update_metric_filters" class="md-nav__link">
    update_metric_filters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triage.component.audition-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Auditioner</h1>

<p>The <code>Auditioner</code> class is the main entry point for the Audition module. Users pass its constructor a database connection, information about the model groups to be evaluated, and a specification for a filter to prune the worst-performing models.</p>
<p>Other methods allow users to define more complex selection rules, list selected models, or plot results from the selection process.</p>


<div class="doc doc-object doc-module">




    <div class="doc doc-contents first">









  <div class="doc doc-children">





<h2 id="triage.component.audition-attributes">Attributes<a href="#triage.component.audition-attributes" class="headerlink" title="Permanent link">#</a></h2>

<div class="doc doc-object doc-attribute">



<h3 id="triage.component.audition.logger" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">logger</span> <span class="o">=</span> <span class="n">verboselogs</span><span class="o">.</span><span class="n">VerboseLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#triage.component.audition.logger" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

    </div>

</div>
<h2 id="triage.component.audition-classes">Classes<a href="#triage.component.audition-classes" class="headerlink" title="Permanent link">#</a></h2>

<div class="doc doc-object doc-class">



<h3 id="triage.component.audition.AuditionRunner" class="doc doc-heading">
            <code>AuditionRunner</code>


<a href="#triage.component.audition.AuditionRunner" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">








              <details class="quote">
                <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AuditionRunner</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">,</span> <span class="n">db_engine</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dir</span> <span class="o">=</span> <span class="n">directory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config_dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db_engine</span> <span class="o">=</span> <span class="n">db_engine</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pre_aud</span> <span class="o">=</span> <span class="n">PreAudition</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_engine</span><span class="p">)</span>
        <span class="n">model_group_ids</span> <span class="o">=</span> <span class="n">pre_aud</span><span class="o">.</span><span class="n">get_model_groups</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;model_groups&quot;</span><span class="p">][</span><span class="s2">&quot;query&quot;</span><span class="p">])</span>
        <span class="n">query_end_times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;time_stamps&quot;</span><span class="p">][</span><span class="s2">&quot;query&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">model_group_ids</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">end_times</span> <span class="o">=</span> <span class="n">pre_aud</span><span class="o">.</span><span class="n">get_train_end_times</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query_end_times</span><span class="p">)</span>

        <span class="n">aud</span> <span class="o">=</span> <span class="n">Auditioner</span><span class="p">(</span>
            <span class="n">db_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db_engine</span><span class="p">,</span>
            <span class="n">model_group_ids</span><span class="o">=</span><span class="n">model_group_ids</span><span class="p">,</span>
            <span class="n">train_end_times</span><span class="o">=</span><span class="n">end_times</span><span class="p">,</span>
            <span class="n">initial_metric_filters</span><span class="o">=</span><span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;max_from_best&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;max_from_best&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;threshold_value&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;threshold_value&quot;</span><span class="p">],</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="n">models_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;models_table&quot;</span><span class="p">],</span>
            <span class="n">distance_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;distance_table&quot;</span><span class="p">],</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dir</span><span class="p">,</span>
            <span class="n">agg_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agg_type&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;worst&#39;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">aud</span><span class="o">.</span><span class="n">plot_model_groups</span><span class="p">()</span>
        <span class="n">aud</span><span class="o">.</span><span class="n">register_selection_rule_grid</span><span class="p">(</span><span class="n">rule_grid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;rules&quot;</span><span class="p">],</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">aud</span><span class="o">.</span><span class="n">save_result_model_group_ids</span><span class="p">()</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Audition ran! Results are stored in </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dir</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Validate!&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">err</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="triage.component.audition.AuditionRunner-attributes">Attributes<a href="#triage.component.audition.AuditionRunner-attributes" class="headerlink" title="Permanent link">#</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.AuditionRunner.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span> <span class="o">=</span> <span class="n">config_dict</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.AuditionRunner.config" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.AuditionRunner.db_engine" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">db_engine</span> <span class="o">=</span> <span class="n">db_engine</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.AuditionRunner.db_engine" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.AuditionRunner.dir" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">dir</span> <span class="o">=</span> <span class="n">directory</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.AuditionRunner.dir" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="triage.component.audition.AuditionRunner-functions">Functions<a href="#triage.component.audition.AuditionRunner-functions" class="headerlink" title="Permanent link">#</a></h4>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.AuditionRunner.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">config_dict</span><span class="p">,</span> <span class="n">db_engine</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#triage.component.audition.AuditionRunner.__init__" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">,</span> <span class="n">db_engine</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dir</span> <span class="o">=</span> <span class="n">directory</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config_dict</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">db_engine</span> <span class="o">=</span> <span class="n">db_engine</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.AuditionRunner.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">()</span></code>

<a href="#triage.component.audition.AuditionRunner.run" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">pre_aud</span> <span class="o">=</span> <span class="n">PreAudition</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_engine</span><span class="p">)</span>
    <span class="n">model_group_ids</span> <span class="o">=</span> <span class="n">pre_aud</span><span class="o">.</span><span class="n">get_model_groups</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;model_groups&quot;</span><span class="p">][</span><span class="s2">&quot;query&quot;</span><span class="p">])</span>
    <span class="n">query_end_times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;time_stamps&quot;</span><span class="p">][</span><span class="s2">&quot;query&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">model_group_ids</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="n">end_times</span> <span class="o">=</span> <span class="n">pre_aud</span><span class="o">.</span><span class="n">get_train_end_times</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query_end_times</span><span class="p">)</span>

    <span class="n">aud</span> <span class="o">=</span> <span class="n">Auditioner</span><span class="p">(</span>
        <span class="n">db_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">db_engine</span><span class="p">,</span>
        <span class="n">model_group_ids</span><span class="o">=</span><span class="n">model_group_ids</span><span class="p">,</span>
        <span class="n">train_end_times</span><span class="o">=</span><span class="n">end_times</span><span class="p">,</span>
        <span class="n">initial_metric_filters</span><span class="o">=</span><span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
                <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
                <span class="s2">&quot;max_from_best&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;max_from_best&quot;</span><span class="p">],</span>
                <span class="s2">&quot;threshold_value&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;threshold_value&quot;</span><span class="p">],</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="n">models_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;models_table&quot;</span><span class="p">],</span>
        <span class="n">distance_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">][</span><span class="s2">&quot;distance_table&quot;</span><span class="p">],</span>
        <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dir</span><span class="p">,</span>
        <span class="n">agg_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;agg_type&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;worst&#39;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">aud</span><span class="o">.</span><span class="n">plot_model_groups</span><span class="p">()</span>
    <span class="n">aud</span><span class="o">.</span><span class="n">register_selection_rule_grid</span><span class="p">(</span><span class="n">rule_grid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;rules&quot;</span><span class="p">],</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">aud</span><span class="o">.</span><span class="n">save_result_model_group_ids</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Audition ran! Results are stored in </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dir</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.AuditionRunner.validate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate</span><span class="p">()</span></code>

<a href="#triage.component.audition.AuditionRunner.validate" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Validate!&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">err</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="triage.component.audition.Auditioner" class="doc doc-heading">
            <code>Auditioner</code>


<a href="#triage.component.audition.Auditioner" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">








              <details class="quote">
                <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Auditioner</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">db_engine</span><span class="p">,</span>
        <span class="n">model_group_ids</span><span class="p">,</span>
        <span class="n">train_end_times</span><span class="p">,</span>
        <span class="n">initial_metric_filters</span><span class="p">,</span>
        <span class="n">models_table</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">distance_table</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">agg_type</span><span class="o">=</span><span class="s1">&#39;worst&#39;</span><span class="p">,</span>
        <span class="n">baseline_model_group_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Filter model groups using a two-step process:</span>

<span class="sd">        1. Broad thresholds to filter out truly bad models</span>
<span class="sd">        2. A selection rule grid to find the best model groups over time</span>
<span class="sd">            for each of a variety of methods</span>

<span class="sd">        This is achieved by creating a &#39;best distance&#39; table, which functions like a</span>
<span class="sd">        denormalized &#39;model group/model/evaluations&#39;, storing for each</span>
<span class="sd">        model group/train end time/metric/parameter:</span>
<span class="sd">            1. the raw evaluation value,</span>
<span class="sd">            2. the distance of that evaluation metric from the best model group at that train time,</span>
<span class="sd">            3. and the distance of the metric from the best model group the *next* train time</span>

<span class="sd">        Each of the steps is computed based on the data in this table, and an iterative process of</span>
<span class="sd">            sending thresholding/selection configuration and viewing the results.</span>

<span class="sd">        For step 1, the initial configuration is sent in this constructor</span>
<span class="sd">            (as &#39;initial_metric_filters&#39;, format detailed below), future iterations of this</span>
<span class="sd">            configuration are sent to &#39;update_metric_filters&#39;.</span>

<span class="sd">        For step 2, all configuration is sent to the object via &#39;register_selection_rule_grid&#39;,</span>
<span class="sd">            and its format is detailed in that method&#39;s docstring</span>

<span class="sd">        Args:</span>
<span class="sd">            db_engine (sqlalchemy.engine): A database engine with access to a</span>
<span class="sd">                results schema of a completed modeling run</span>
<span class="sd">            model_group_ids (list): A large list of model groups to audition. No effort should</span>
<span class="sd">                be needed to pick &#39;good&#39; model groups, but they should all be groups that could</span>
<span class="sd">                be used if they are found to perform well. They should also each have evaluations</span>
<span class="sd">                for any train end times you wish to include in analysis</span>
<span class="sd">            train_end_times (list): A list of train end times that all of the given model groups</span>
<span class="sd">                contain evaluations for and that you want to be deemed important in the analysis</span>
<span class="sd">            initial_metric_filters (list): A list of metrics to filter model</span>
<span class="sd">                groups on, and how to filter them. Each entry should be a dict</span>
<span class="sd">                of the format:</span>

<span class="sd">                    {</span>
<span class="sd">                        &#39;metric&#39;: &#39;string&#39;,</span>
<span class="sd">                        &#39;parameter&#39;: &#39;string&#39;,</span>
<span class="sd">                        &#39;max_below_best&#39;: .5,</span>
<span class="sd">                        &#39;threshold_value&#39;: .5</span>
<span class="sd">                     }</span>

<span class="sd">                    metric (string): model evaluation metric, such as &#39;precision@&#39;</span>
<span class="sd">                    parameter (string): model evaluation metric parameter,</span>
<span class="sd">                        such as &#39;300_abs&#39;</span>
<span class="sd">                    max_below_best (float): The maximum value that the given metric</span>
<span class="sd">                        can be below the best for a given train end time</span>
<span class="sd">                    threshold_value (float): The minimum value that the given metric can be</span>
<span class="sd">            models_table (string, optional): The name of the results schema</span>
<span class="sd">                models table that you want to use. Will default to &#39;models&#39;,</span>
<span class="sd">                which is also the default in triage.</span>
<span class="sd">            distance_table (string, optional): The name of the &#39;best distance&#39; table to use.</span>
<span class="sd">                Will default to &#39;best_distance&#39;, but this can be sent if you want to avoid</span>
<span class="sd">                clobbering the results from a prior analysis.</span>
<span class="sd">            agg_type (string) Method for aggregating metric values (for instance, if there</span>
<span class="sd">                are multiple models at a given train_end_time with different random seeds).</span>
<span class="sd">                Can be: &#39;mean&#39;, &#39;best&#39;, or &#39;worst&#39; (the default)</span>
<span class="sd">            baseline_model_group_ids (list): An optional list of model groups for baseline </span>
<span class="sd">                models which will be included on all plots without being subject to filtering </span>
<span class="sd">                or included as candidate models from the selection process.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metric_filters</span> <span class="o">=</span> <span class="n">initial_metric_filters</span>
        <span class="c1"># sort the train end times so we can reliably pick off the last time later</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">train_end_times</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">directory</span>
        <span class="n">models_table</span> <span class="o">=</span> <span class="n">models_table</span> <span class="ow">or</span> <span class="s2">&quot;models&quot;</span>
        <span class="n">distance_table</span> <span class="o">=</span> <span class="n">distance_table</span> <span class="ow">or</span> <span class="s2">&quot;best_distance&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span> <span class="o">=</span> <span class="n">DistanceFromBestTable</span><span class="p">(</span>
            <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span>
            <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span>
            <span class="n">distance_table</span><span class="o">=</span><span class="n">distance_table</span><span class="p">,</span>
            <span class="n">agg_type</span><span class="o">=</span><span class="n">agg_type</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">best_distance_plotter</span> <span class="o">=</span> <span class="n">BestDistancePlotter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">baseline_model_group_ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span> <span class="o">=</span> <span class="n">model_groups_filter</span><span class="p">(</span>
                <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span>
                <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="n">baseline_model_group_ids</span><span class="p">,</span>
                <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span>
                <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span> <span class="o">=</span> <span class="n">model_groups_filter</span><span class="p">(</span>
            <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span>
            <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="n">model_group_ids</span><span class="p">,</span>
            <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span>
            <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">model_group_thresholder</span> <span class="o">=</span> <span class="n">ModelGroupThresholder</span><span class="p">(</span>
            <span class="n">distance_from_best_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span>
            <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span>
            <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span><span class="p">,</span>
            <span class="n">initial_metric_filters</span><span class="o">=</span><span class="n">initial_metric_filters</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_group_performance_plotter</span> <span class="o">=</span> <span class="n">ModelGroupPerformancePlotter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span> <span class="o">=</span> <span class="n">SelectionRulePicker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_plotter</span> <span class="o">=</span> <span class="n">SelectionRulePlotter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span> <span class="o">=</span> <span class="n">SelectionRulePerformancePlotter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="p">,</span> <span class="n">directory</span>
        <span class="p">)</span>

        <span class="c1"># note we populate the distance from best table using both the</span>
        <span class="c1"># baseline and candidate model groups</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="o">.</span><span class="n">create_and_populate</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span><span class="p">,</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">,</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_for_rule</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span> <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">]}</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric_filters</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">thresholded_model_group_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The model group thresholder will have a varying list of model group ids</span>
<span class="sd">        depending on its current thresholding rules, this is a reference to whatever</span>
<span class="sd">        that current list is.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of model group ids allowed by the current metric threshold rules</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_group_thresholder</span><span class="o">.</span><span class="n">model_group_ids</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">average_regret_for_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the average regret for each selection rule, over the specified list of train/test periods.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict with a key-value pair for each selection rule and the average regret for that rule. Structure:</span>

<span class="sd">                {&#39;descriptive rule_name&#39;: .5}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">results_for_rule</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">result</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_for_rule</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;selection_rule&quot;</span><span class="p">)[</span><span class="s2">&quot;regret&quot;</span><span class="p">]</span>
                <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
                <span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">selection_rule_model_group_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the current winners for each selection rule and the most recent date</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dict with a key-value pair for each selection rule and the list of n</span>
<span class="sd">            model_group_ids that it selected. Structure:</span>

<span class="sd">                {&#39;descriptive rule_name&#39;:[1,2,3]}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Calculating selection rule picks for all rules&quot;</span><span class="p">)</span>
        <span class="n">model_group_ids</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">thresholded_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thresholded_model_group_ids</span>
        <span class="k">for</span> <span class="n">selection_rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection_rules</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Calculating selection rule picks for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">selection_rule</span><span class="p">)</span>
            <span class="n">model_group_ids</span><span class="p">[</span>
                <span class="n">selection_rule</span><span class="o">.</span><span class="n">descriptive_name</span>
            <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="o">.</span><span class="n">model_group_from_rule</span><span class="p">(</span>
                <span class="n">bound_selection_rule</span><span class="o">=</span><span class="n">selection_rule</span><span class="p">,</span>
                <span class="n">model_group_ids</span><span class="o">=</span><span class="n">thresholded_ids</span><span class="p">,</span>
                <span class="c1"># evaluate the selection rules for the most recent</span>
                <span class="c1"># time period and use those as candidate model groups</span>
                <span class="n">train_end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;For rule </span><span class="si">%s</span><span class="s2">, model group </span><span class="si">%s</span><span class="s2"> was picked&quot;</span><span class="p">,</span>
                <span class="n">selection_rule</span><span class="p">,</span>
                <span class="n">model_group_ids</span><span class="p">[</span><span class="n">selection_rule</span><span class="o">.</span><span class="n">descriptive_name</span><span class="p">],</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_group_ids</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_result_model_group_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s2">&quot;results_model_group_ids.json&quot;</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">fname</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_model_group_ids</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">plot_model_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display model group plots, one of the below for each configured metric.</span>

<span class="sd">        1. A cumulative plot showing the effect of different worse-than-best</span>
<span class="sd">        thresholds for the given metric across the thresholded model groups.</span>

<span class="sd">        2. A performance-over-time plot showing the value for the given</span>
<span class="sd">        metric over time for each thresholded model group</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Showing best distance plots for all metrics&quot;</span><span class="p">)</span>
        <span class="n">thresholded_model_group_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thresholded_model_group_ids</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">thresholded_model_group_ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Zero model group ids found that passed configured thresholds. &quot;</span>
                <span class="s2">&quot;Nothing to plot&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">best_distance_plotter</span><span class="o">.</span><span class="n">plot_all_best_dist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">,</span> 
            <span class="n">thresholded_model_group_ids</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span><span class="p">,</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Showing model group performance plots for all metrics&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_group_performance_plotter</span><span class="o">.</span><span class="n">plot_all</span><span class="p">(</span>
            <span class="n">metric_filters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric_filters</span><span class="p">,</span>
            <span class="n">model_group_ids</span><span class="o">=</span><span class="n">thresholded_model_group_ids</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span><span class="p">,</span>
            <span class="n">train_end_times</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_one_metric_filter</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;precision@&quot;</span><span class="p">,</span>
        <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;100_abs&quot;</span><span class="p">,</span>
        <span class="n">max_from_best</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
        <span class="n">threshold_value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set one thresholding metric filter</span>
<span class="sd">        If one wnats to update multiple filters, one should use `update_metric_filters()` instead.</span>

<span class="sd">        Args:</span>
<span class="sd">            metric (string): model evaluation metric such as &#39;precision@&#39;</span>
<span class="sd">            parameter (string): model evaluation parameter such as &#39;100_abs&#39;</span>
<span class="sd">            max_from_best (string): The maximum value that the given metric can be below the best</span>
<span class="sd">                for a given train end time</span>
<span class="sd">            threshold_value (string): The thresold value that the given metric can be</span>
<span class="sd">            plot (boolean, default True): Whether or not to also plot model group performance</span>
<span class="sd">                and thresholding details at this time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_filters</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="n">metric</span><span class="p">,</span>
                <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="p">,</span>
                <span class="s2">&quot;max_from_best&quot;</span><span class="p">:</span> <span class="n">max_from_best</span><span class="p">,</span>
                <span class="s2">&quot;threshold_value&quot;</span><span class="p">:</span> <span class="n">threshold_value</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_metric_filters</span><span class="p">(</span><span class="n">new_filters</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_metric_filters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the thresholding metric filters</span>

<span class="sd">        Args:</span>
<span class="sd">            new_filters (list): A list of metrics to filter model</span>
<span class="sd">                groups on, and how to filter them. This is an identical format to</span>
<span class="sd">                the list given to &#39;initial_metric_filters&#39; in the constructor.</span>
<span class="sd">                Each entry should be a dict with the keys:</span>
<span class="sd">initial_metric_filters</span>
<span class="sd">                    metric (string) -- model evaluation metric, such as &#39;precision@&#39;</span>
<span class="sd">                    parameter (string) -- model evaluation metric parameter,</span>
<span class="sd">                        such as &#39;300_abs&#39;</span>
<span class="sd">                    max_below_best (float) The maximum value that the given metric</span>
<span class="sd">                        can be below the best for a given train end time</span>
<span class="sd">                    threshold_value (float) The threshold value that the given metric can be</span>
<span class="sd">            plot (boolean, default True): Whether or not to also plot model group performance</span>
<span class="sd">                and thresholding details at this time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updating metric filters with new config </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">new_filters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_group_thresholder</span><span class="o">.</span><span class="n">update_filters</span><span class="p">(</span><span class="n">new_filters</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;After config update, plotting model groups&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_model_groups</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">plot_selection_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plot data about the configured selection rules. The three plots outlined below</span>
<span class="sd">        are plotted for each metric.</span>

<span class="sd">        We base a lot of this on the concept of the &#39;regret&#39;.</span>
<span class="sd">        The regret refers to the difference in performance between a model group</span>
<span class="sd">        and the best model group for the next testing window if a selection rule is followed.</span>

<span class="sd">        1. A distance-next-time plot, showing the fraction of models worse then a succession of</span>
<span class="sd">            regret thresholds for each selection rule</span>
<span class="sd">        2. A regret-over-time plot for each selection rule</span>
<span class="sd">        3. A metric-over-time plot for each selection rule</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">metric_definition</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">:</span>
            <span class="n">common_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">bound_selection_rules</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selection_rules</span><span class="p">,</span>
                <span class="n">regret_metric</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
                <span class="n">regret_parameter</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
                <span class="n">model_group_ids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thresholded_model_group_ids</span><span class="p">,</span>
                <span class="n">train_end_times</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                <span class="c1"># We can&#39;t calculate regrets for the most recent train end time,</span>
                <span class="c1"># so don&#39;t send that in. Assumes that the train_end_times</span>
                <span class="c1"># are sorted in the constructor</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_plotter</span><span class="o">.</span><span class="n">plot_all_selection_rules</span><span class="p">(</span><span class="o">**</span><span class="n">common_kwargs</span><span class="p">)</span>

            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span><span class="o">.</span><span class="n">generate_plot_data</span><span class="p">(</span>
                <span class="o">**</span><span class="n">common_kwargs</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span><span class="o">.</span><span class="n">regret_plot_from_dataframe</span><span class="p">(</span>
                <span class="n">metric</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
                <span class="n">parameter</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
                <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span><span class="o">.</span><span class="n">raw_next_time_plot_from_dataframe</span><span class="p">(</span>
                <span class="n">metric</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
                <span class="n">parameter</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
                <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">key</span> <span class="o">=</span> <span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">results_for_rule</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">register_selection_rule_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rule_grid</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a grid of selection rules</span>

<span class="sd">        Args:</span>
<span class="sd">            rule_grid (list): Groups of selection rules that share parameters. See documentation below for schema.</span>
<span class="sd">            plot: (boolean, defaults to True) Whether or not to plot the selection</span>
<span class="sd">                rules at this time.</span>

<span class="sd">        `rules_grid` is a list of dicts. Each dict, which defines a group, has two required keys:</span>
<span class="sd">        `shared_parameters` and `selection_rules`.</span>

<span class="sd">        `shared_parameters`: A list of dicts, each with a set of parameters that are taken</span>
<span class="sd">        by all selection rules in this group.</span>

<span class="sd">        For each of these shared parameter sets, the grid will create selection rules</span>
<span class="sd">        combining the set with all possible selection rule/parameter combinations.</span>

<span class="sd">        This can be used to quickly combine, say, a variety of rules that</span>
<span class="sd">        all are concerned with precision at top 100 entities.</span>

<span class="sd">        `selection_rules`: A list of dicts, each with:</span>

<span class="sd">        - A &#39;name&#39; attribute that matches a selection rule in audition.selection_rules</span>
<span class="sd">        - Parameters and values taken by that selection rule. Values in list form are</span>
<span class="sd">        all added to the grid. If the selection rule has no parameters, or the parameters are all covered</span>
<span class="sd">        by the shared parameters in this group, none are needed here.</span>

<span class="sd">        Each selection rule in the group must have all of its required parameters</span>
<span class="sd">        covered by the shared parameters in its group and the parameters given to it.</span>

<span class="sd">        Refer to [Selection Rules](../selection_rules/#selection-rules) for available selection rules</span>
<span class="sd">        and their parameters.</span>
<span class="sd">        The exceptions are the first two arguments to each selection rule,</span>
<span class="sd">        &#39;df&#39; and &#39;train_end_time&#39;.</span>
<span class="sd">        These are contextual and thus provided internally by Audition.</span>

<span class="sd">        Example:</span>
<span class="sd">        ```</span>
<span class="sd">        [{</span>
<span class="sd">            &#39;shared_parameters&#39;: [</span>
<span class="sd">                    {&#39;metric&#39;: &#39;precision@&#39;, &#39;parameter&#39;: &#39;100_abs&#39;},</span>
<span class="sd">                    {&#39;metric&#39;: &#39;recall@&#39;, &#39;parameter&#39;: &#39;100_abs&#39;},</span>
<span class="sd">                ],</span>
<span class="sd">                &#39;selection_rules&#39;: [</span>
<span class="sd">                    {&#39;name&#39;: &#39;most_frequent_best_dist&#39;,</span>
<span class="sd">                        &#39;dist_from_best_case&#39;: [0.1, 0.2, 0.3]},</span>
<span class="sd">                    {&#39;name&#39;: &#39;best_current_value&#39;}</span>
<span class="sd">                ]</span>
<span class="sd">        }]</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rules</span> <span class="o">=</span> <span class="n">make_selection_rule_grid</span><span class="p">(</span><span class="n">rule_grid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_selection_rules</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">





<h4 id="triage.component.audition.Auditioner-attributes">Attributes<a href="#triage.component.audition.Auditioner-attributes" class="headerlink" title="Permanent link">#</a></h4>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.average_regret_for_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">average_regret_for_rules</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.average_regret_for_rules" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Returns the average regret for each selection rule, over the specified list of train/test periods.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict with a key-value pair for each selection rule and the average regret for that rule. Structure:</p>
<p>{'descriptive rule_name': .5}</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.baseline_model_groups" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">baseline_model_groups</span> <span class="o">=</span> <span class="n">model_groups_filter</span><span class="p">(</span><span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span> <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="n">baseline_model_group_ids</span><span class="p">,</span> <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span> <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.baseline_model_groups" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.best_distance_plotter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">best_distance_plotter</span> <span class="o">=</span> <span class="n">BestDistancePlotter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.best_distance_plotter" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.directory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">directory</span> <span class="o">=</span> <span class="n">directory</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.directory" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.distance_from_best_table" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">distance_from_best_table</span> <span class="o">=</span> <span class="n">DistanceFromBestTable</span><span class="p">(</span><span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span> <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span> <span class="n">distance_table</span><span class="o">=</span><span class="n">distance_table</span><span class="p">,</span> <span class="n">agg_type</span><span class="o">=</span><span class="n">agg_type</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.distance_from_best_table" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.first_pass_model_groups" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">first_pass_model_groups</span> <span class="o">=</span> <span class="n">model_groups_filter</span><span class="p">(</span><span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span> <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="n">model_group_ids</span><span class="p">,</span> <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span> <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.first_pass_model_groups" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.metric_filters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">metric_filters</span> <span class="o">=</span> <span class="n">initial_metric_filters</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.metric_filters" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.metrics" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">metrics</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.metrics" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.model_group_performance_plotter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_group_performance_plotter</span> <span class="o">=</span> <span class="n">ModelGroupPerformancePlotter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.model_group_performance_plotter" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.model_group_thresholder" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_group_thresholder</span> <span class="o">=</span> <span class="n">ModelGroupThresholder</span><span class="p">(</span><span class="n">distance_from_best_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span> <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span><span class="p">,</span> <span class="n">initial_metric_filters</span><span class="o">=</span><span class="n">initial_metric_filters</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.model_group_thresholder" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.results_for_rule" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">results_for_rule</span> <span class="o">=</span> <span class="p">{}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.results_for_rule" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.selection_rule_model_group_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">selection_rule_model_group_ids</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.selection_rule_model_group_ids" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Calculate the current winners for each selection rule and the most recent date</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict with a key-value pair for each selection rule and the list of n</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>model_group_ids that it selected. Structure:</p>
<p>{'descriptive rule_name':[1,2,3]}</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.selection_rule_performance_plotter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">selection_rule_performance_plotter</span> <span class="o">=</span> <span class="n">SelectionRulePerformancePlotter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="p">,</span> <span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.selection_rule_performance_plotter" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.selection_rule_picker" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">selection_rule_picker</span> <span class="o">=</span> <span class="n">SelectionRulePicker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.selection_rule_picker" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.selection_rule_plotter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">selection_rule_plotter</span> <span class="o">=</span> <span class="n">SelectionRulePlotter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.selection_rule_plotter" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.thresholded_model_group_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">thresholded_model_group_ids</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.thresholded_model_group_ids" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>The model group thresholder will have a varying list of model group ids
depending on its current thresholding rules, this is a reference to whatever
that current list is.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of model group ids allowed by the current metric threshold rules</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="triage.component.audition.Auditioner.train_end_times" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">train_end_times</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">train_end_times</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#triage.component.audition.Auditioner.train_end_times" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

    </div>

</div>

<h4 id="triage.component.audition.Auditioner-functions">Functions<a href="#triage.component.audition.Auditioner-functions" class="headerlink" title="Permanent link">#</a></h4>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">db_engine</span><span class="p">,</span> <span class="n">model_group_ids</span><span class="p">,</span> <span class="n">train_end_times</span><span class="p">,</span> <span class="n">initial_metric_filters</span><span class="p">,</span> <span class="n">models_table</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">distance_table</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">agg_type</span><span class="o">=</span><span class="s1">&#39;worst&#39;</span><span class="p">,</span> <span class="n">baseline_model_group_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#triage.component.audition.Auditioner.__init__" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Filter model groups using a two-step process:</p>
<ol>
<li>Broad thresholds to filter out truly bad models</li>
<li>A selection rule grid to find the best model groups over time
    for each of a variety of methods</li>
</ol>
<p>This is achieved by creating a 'best distance' table, which functions like a
denormalized 'model group/model/evaluations', storing for each
model group/train end time/metric/parameter:
    1. the raw evaluation value,
    2. the distance of that evaluation metric from the best model group at that train time,
    3. and the distance of the metric from the best model group the <em>next</em> train time</p>
<p>Each of the steps is computed based on the data in this table, and an iterative process of
    sending thresholding/selection configuration and viewing the results.</p>
<p>For step 1, the initial configuration is sent in this constructor
    (as 'initial_metric_filters', format detailed below), future iterations of this
    configuration are sent to 'update_metric_filters'.</p>
<p>For step 2, all configuration is sent to the object via 'register_selection_rule_grid',
    and its format is detailed in that method's docstring</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>db_engine</code>
            </td>
            <td>
                  <code><span title="sqlalchemy.engine">engine</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A database engine with access to a
results schema of a completed modeling run</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_group_ids</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A large list of model groups to audition. No effort should
be needed to pick 'good' model groups, but they should all be groups that could
be used if they are found to perform well. They should also each have evaluations
for any train end times you wish to include in analysis</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>train_end_times</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of train end times that all of the given model groups
contain evaluations for and that you want to be deemed important in the analysis</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>initial_metric_filters</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of metrics to filter model
groups on, and how to filter them. Each entry should be a dict
of the format:</p>
<div class="codehilite"><pre><span></span><code>{
    &#39;metric&#39;: &#39;string&#39;,
    &#39;parameter&#39;: &#39;string&#39;,
    &#39;max_below_best&#39;: .5,
    &#39;threshold_value&#39;: .5
 }

metric (string): model evaluation metric, such as &#39;precision@&#39;
parameter (string): model evaluation metric parameter,
    such as &#39;300_abs&#39;
max_below_best (float): The maximum value that the given metric
    can be below the best for a given train end time
threshold_value (float): The minimum value that the given metric can be
</code></pre></div>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>models_table</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the results schema
models table that you want to use. Will default to 'models',
which is also the default in triage.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance_table</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the 'best distance' table to use.
Will default to 'best_distance', but this can be sent if you want to avoid
clobbering the results from a prior analysis.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>baseline_model_group_ids</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional list of model groups for baseline 
models which will be included on all plots without being subject to filtering 
or included as candidate models from the selection process.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">db_engine</span><span class="p">,</span>
    <span class="n">model_group_ids</span><span class="p">,</span>
    <span class="n">train_end_times</span><span class="p">,</span>
    <span class="n">initial_metric_filters</span><span class="p">,</span>
    <span class="n">models_table</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">distance_table</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">directory</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">agg_type</span><span class="o">=</span><span class="s1">&#39;worst&#39;</span><span class="p">,</span>
    <span class="n">baseline_model_group_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter model groups using a two-step process:</span>

<span class="sd">    1. Broad thresholds to filter out truly bad models</span>
<span class="sd">    2. A selection rule grid to find the best model groups over time</span>
<span class="sd">        for each of a variety of methods</span>

<span class="sd">    This is achieved by creating a &#39;best distance&#39; table, which functions like a</span>
<span class="sd">    denormalized &#39;model group/model/evaluations&#39;, storing for each</span>
<span class="sd">    model group/train end time/metric/parameter:</span>
<span class="sd">        1. the raw evaluation value,</span>
<span class="sd">        2. the distance of that evaluation metric from the best model group at that train time,</span>
<span class="sd">        3. and the distance of the metric from the best model group the *next* train time</span>

<span class="sd">    Each of the steps is computed based on the data in this table, and an iterative process of</span>
<span class="sd">        sending thresholding/selection configuration and viewing the results.</span>

<span class="sd">    For step 1, the initial configuration is sent in this constructor</span>
<span class="sd">        (as &#39;initial_metric_filters&#39;, format detailed below), future iterations of this</span>
<span class="sd">        configuration are sent to &#39;update_metric_filters&#39;.</span>

<span class="sd">    For step 2, all configuration is sent to the object via &#39;register_selection_rule_grid&#39;,</span>
<span class="sd">        and its format is detailed in that method&#39;s docstring</span>

<span class="sd">    Args:</span>
<span class="sd">        db_engine (sqlalchemy.engine): A database engine with access to a</span>
<span class="sd">            results schema of a completed modeling run</span>
<span class="sd">        model_group_ids (list): A large list of model groups to audition. No effort should</span>
<span class="sd">            be needed to pick &#39;good&#39; model groups, but they should all be groups that could</span>
<span class="sd">            be used if they are found to perform well. They should also each have evaluations</span>
<span class="sd">            for any train end times you wish to include in analysis</span>
<span class="sd">        train_end_times (list): A list of train end times that all of the given model groups</span>
<span class="sd">            contain evaluations for and that you want to be deemed important in the analysis</span>
<span class="sd">        initial_metric_filters (list): A list of metrics to filter model</span>
<span class="sd">            groups on, and how to filter them. Each entry should be a dict</span>
<span class="sd">            of the format:</span>

<span class="sd">                {</span>
<span class="sd">                    &#39;metric&#39;: &#39;string&#39;,</span>
<span class="sd">                    &#39;parameter&#39;: &#39;string&#39;,</span>
<span class="sd">                    &#39;max_below_best&#39;: .5,</span>
<span class="sd">                    &#39;threshold_value&#39;: .5</span>
<span class="sd">                 }</span>

<span class="sd">                metric (string): model evaluation metric, such as &#39;precision@&#39;</span>
<span class="sd">                parameter (string): model evaluation metric parameter,</span>
<span class="sd">                    such as &#39;300_abs&#39;</span>
<span class="sd">                max_below_best (float): The maximum value that the given metric</span>
<span class="sd">                    can be below the best for a given train end time</span>
<span class="sd">                threshold_value (float): The minimum value that the given metric can be</span>
<span class="sd">        models_table (string, optional): The name of the results schema</span>
<span class="sd">            models table that you want to use. Will default to &#39;models&#39;,</span>
<span class="sd">            which is also the default in triage.</span>
<span class="sd">        distance_table (string, optional): The name of the &#39;best distance&#39; table to use.</span>
<span class="sd">            Will default to &#39;best_distance&#39;, but this can be sent if you want to avoid</span>
<span class="sd">            clobbering the results from a prior analysis.</span>
<span class="sd">        agg_type (string) Method for aggregating metric values (for instance, if there</span>
<span class="sd">            are multiple models at a given train_end_time with different random seeds).</span>
<span class="sd">            Can be: &#39;mean&#39;, &#39;best&#39;, or &#39;worst&#39; (the default)</span>
<span class="sd">        baseline_model_group_ids (list): An optional list of model groups for baseline </span>
<span class="sd">            models which will be included on all plots without being subject to filtering </span>
<span class="sd">            or included as candidate models from the selection process.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metric_filters</span> <span class="o">=</span> <span class="n">initial_metric_filters</span>
    <span class="c1"># sort the train end times so we can reliably pick off the last time later</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">train_end_times</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">directory</span>
    <span class="n">models_table</span> <span class="o">=</span> <span class="n">models_table</span> <span class="ow">or</span> <span class="s2">&quot;models&quot;</span>
    <span class="n">distance_table</span> <span class="o">=</span> <span class="n">distance_table</span> <span class="ow">or</span> <span class="s2">&quot;best_distance&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span> <span class="o">=</span> <span class="n">DistanceFromBestTable</span><span class="p">(</span>
        <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span>
        <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span>
        <span class="n">distance_table</span><span class="o">=</span><span class="n">distance_table</span><span class="p">,</span>
        <span class="n">agg_type</span><span class="o">=</span><span class="n">agg_type</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_distance_plotter</span> <span class="o">=</span> <span class="n">BestDistancePlotter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">baseline_model_group_ids</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span> <span class="o">=</span> <span class="n">model_groups_filter</span><span class="p">(</span>
            <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span>
            <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="n">baseline_model_group_ids</span><span class="p">,</span>
            <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span>
            <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span> <span class="o">=</span> <span class="n">model_groups_filter</span><span class="p">(</span>
        <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span>
        <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="n">model_group_ids</span><span class="p">,</span>
        <span class="n">models_table</span><span class="o">=</span><span class="n">models_table</span><span class="p">,</span>
        <span class="n">db_engine</span><span class="o">=</span><span class="n">db_engine</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">model_group_thresholder</span> <span class="o">=</span> <span class="n">ModelGroupThresholder</span><span class="p">(</span>
        <span class="n">distance_from_best_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span>
        <span class="n">train_end_times</span><span class="o">=</span><span class="n">train_end_times</span><span class="p">,</span>
        <span class="n">initial_model_group_ids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span><span class="p">,</span>
        <span class="n">initial_metric_filters</span><span class="o">=</span><span class="n">initial_metric_filters</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model_group_performance_plotter</span> <span class="o">=</span> <span class="n">ModelGroupPerformancePlotter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span> <span class="o">=</span> <span class="n">SelectionRulePicker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_plotter</span> <span class="o">=</span> <span class="n">SelectionRulePlotter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span> <span class="o">=</span> <span class="n">SelectionRulePerformancePlotter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_picker</span><span class="p">,</span> <span class="n">directory</span>
    <span class="p">)</span>

    <span class="c1"># note we populate the distance from best table using both the</span>
    <span class="c1"># baseline and candidate model groups</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_best_table</span><span class="o">.</span><span class="n">create_and_populate</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_pass_model_groups</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span><span class="p">,</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">,</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results_for_rule</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.plot_model_groups" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_model_groups</span><span class="p">()</span></code>

<a href="#triage.component.audition.Auditioner.plot_model_groups" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Display model group plots, one of the below for each configured metric.</p>
<ol>
<li>
<p>A cumulative plot showing the effect of different worse-than-best
thresholds for the given metric across the thresholded model groups.</p>
</li>
<li>
<p>A performance-over-time plot showing the value for the given
metric over time for each thresholded model group</p>
</li>
</ol>


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">plot_model_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display model group plots, one of the below for each configured metric.</span>

<span class="sd">    1. A cumulative plot showing the effect of different worse-than-best</span>
<span class="sd">    thresholds for the given metric across the thresholded model groups.</span>

<span class="sd">    2. A performance-over-time plot showing the value for the given</span>
<span class="sd">    metric over time for each thresholded model group</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Showing best distance plots for all metrics&quot;</span><span class="p">)</span>
    <span class="n">thresholded_model_group_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thresholded_model_group_ids</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">thresholded_model_group_ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Zero model group ids found that passed configured thresholds. &quot;</span>
            <span class="s2">&quot;Nothing to plot&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_distance_plotter</span><span class="o">.</span><span class="n">plot_all_best_dist</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">,</span> 
        <span class="n">thresholded_model_group_ids</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span><span class="p">,</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span>
    <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Showing model group performance plots for all metrics&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model_group_performance_plotter</span><span class="o">.</span><span class="n">plot_all</span><span class="p">(</span>
        <span class="n">metric_filters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric_filters</span><span class="p">,</span>
        <span class="n">model_group_ids</span><span class="o">=</span><span class="n">thresholded_model_group_ids</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_model_groups</span><span class="p">,</span>
        <span class="n">train_end_times</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.plot_selection_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_selection_rules</span><span class="p">()</span></code>

<a href="#triage.component.audition.Auditioner.plot_selection_rules" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Plot data about the configured selection rules. The three plots outlined below
are plotted for each metric.</p>
<p>We base a lot of this on the concept of the 'regret'.
The regret refers to the difference in performance between a model group
and the best model group for the next testing window if a selection rule is followed.</p>
<ol>
<li>A distance-next-time plot, showing the fraction of models worse then a succession of
    regret thresholds for each selection rule</li>
<li>A regret-over-time plot for each selection rule</li>
<li>A metric-over-time plot for each selection rule</li>
</ol>


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">plot_selection_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot data about the configured selection rules. The three plots outlined below</span>
<span class="sd">    are plotted for each metric.</span>

<span class="sd">    We base a lot of this on the concept of the &#39;regret&#39;.</span>
<span class="sd">    The regret refers to the difference in performance between a model group</span>
<span class="sd">    and the best model group for the next testing window if a selection rule is followed.</span>

<span class="sd">    1. A distance-next-time plot, showing the fraction of models worse then a succession of</span>
<span class="sd">        regret thresholds for each selection rule</span>
<span class="sd">    2. A regret-over-time plot for each selection rule</span>
<span class="sd">    3. A metric-over-time plot for each selection rule</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">metric_definition</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">:</span>
        <span class="n">common_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">bound_selection_rules</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">selection_rules</span><span class="p">,</span>
            <span class="n">regret_metric</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
            <span class="n">regret_parameter</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
            <span class="n">model_group_ids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thresholded_model_group_ids</span><span class="p">,</span>
            <span class="n">train_end_times</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">train_end_times</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="c1"># We can&#39;t calculate regrets for the most recent train end time,</span>
            <span class="c1"># so don&#39;t send that in. Assumes that the train_end_times</span>
            <span class="c1"># are sorted in the constructor</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_plotter</span><span class="o">.</span><span class="n">plot_all_selection_rules</span><span class="p">(</span><span class="o">**</span><span class="n">common_kwargs</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span><span class="o">.</span><span class="n">generate_plot_data</span><span class="p">(</span>
            <span class="o">**</span><span class="n">common_kwargs</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span><span class="o">.</span><span class="n">regret_plot_from_dataframe</span><span class="p">(</span>
            <span class="n">metric</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
            <span class="n">parameter</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
            <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_performance_plotter</span><span class="o">.</span><span class="n">raw_next_time_plot_from_dataframe</span><span class="p">(</span>
            <span class="n">metric</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">],</span>
            <span class="n">parameter</span><span class="o">=</span><span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">],</span>
            <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">key</span> <span class="o">=</span> <span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;metric&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">metric_definition</span><span class="p">[</span><span class="s2">&quot;parameter&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">results_for_rule</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.register_selection_rule_grid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_selection_rule_grid</span><span class="p">(</span><span class="n">rule_grid</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#triage.component.audition.Auditioner.register_selection_rule_grid" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Register a grid of selection rules</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rule_grid</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Groups of selection rules that share parameters. See documentation below for schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>plot</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(boolean, defaults to True) Whether or not to plot the selection
rules at this time.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p><code>rules_grid</code> is a list of dicts. Each dict, which defines a group, has two required keys:
<code>shared_parameters</code> and <code>selection_rules</code>.</p>
<p><code>shared_parameters</code>: A list of dicts, each with a set of parameters that are taken
by all selection rules in this group.</p>
<p>For each of these shared parameter sets, the grid will create selection rules
combining the set with all possible selection rule/parameter combinations.</p>
<p>This can be used to quickly combine, say, a variety of rules that
all are concerned with precision at top 100 entities.</p>
<p><code>selection_rules</code>: A list of dicts, each with:</p>
<ul>
<li>A 'name' attribute that matches a selection rule in audition.selection_rules</li>
<li>Parameters and values taken by that selection rule. Values in list form are
all added to the grid. If the selection rule has no parameters, or the parameters are all covered
by the shared parameters in this group, none are needed here.</li>
</ul>
<p>Each selection rule in the group must have all of its required parameters
covered by the shared parameters in its group and the parameters given to it.</p>
<p>Refer to <a href="../selection_rules/#selection-rules">Selection Rules</a> for available selection rules
and their parameters.
The exceptions are the first two arguments to each selection rule,
'df' and 'train_end_time'.
These are contextual and thus provided internally by Audition.</p>
<p>Example:
<div class="highlight"><pre><span></span><code>[{
    &#39;shared_parameters&#39;: [
            {&#39;metric&#39;: &#39;precision@&#39;, &#39;parameter&#39;: &#39;100_abs&#39;},
            {&#39;metric&#39;: &#39;recall@&#39;, &#39;parameter&#39;: &#39;100_abs&#39;},
        ],
        &#39;selection_rules&#39;: [
            {&#39;name&#39;: &#39;most_frequent_best_dist&#39;,
                &#39;dist_from_best_case&#39;: [0.1, 0.2, 0.3]},
            {&#39;name&#39;: &#39;best_current_value&#39;}
        ]
}]
</code></pre></div></p>


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_selection_rule_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rule_grid</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a grid of selection rules</span>

<span class="sd">    Args:</span>
<span class="sd">        rule_grid (list): Groups of selection rules that share parameters. See documentation below for schema.</span>
<span class="sd">        plot: (boolean, defaults to True) Whether or not to plot the selection</span>
<span class="sd">            rules at this time.</span>

<span class="sd">    `rules_grid` is a list of dicts. Each dict, which defines a group, has two required keys:</span>
<span class="sd">    `shared_parameters` and `selection_rules`.</span>

<span class="sd">    `shared_parameters`: A list of dicts, each with a set of parameters that are taken</span>
<span class="sd">    by all selection rules in this group.</span>

<span class="sd">    For each of these shared parameter sets, the grid will create selection rules</span>
<span class="sd">    combining the set with all possible selection rule/parameter combinations.</span>

<span class="sd">    This can be used to quickly combine, say, a variety of rules that</span>
<span class="sd">    all are concerned with precision at top 100 entities.</span>

<span class="sd">    `selection_rules`: A list of dicts, each with:</span>

<span class="sd">    - A &#39;name&#39; attribute that matches a selection rule in audition.selection_rules</span>
<span class="sd">    - Parameters and values taken by that selection rule. Values in list form are</span>
<span class="sd">    all added to the grid. If the selection rule has no parameters, or the parameters are all covered</span>
<span class="sd">    by the shared parameters in this group, none are needed here.</span>

<span class="sd">    Each selection rule in the group must have all of its required parameters</span>
<span class="sd">    covered by the shared parameters in its group and the parameters given to it.</span>

<span class="sd">    Refer to [Selection Rules](../selection_rules/#selection-rules) for available selection rules</span>
<span class="sd">    and their parameters.</span>
<span class="sd">    The exceptions are the first two arguments to each selection rule,</span>
<span class="sd">    &#39;df&#39; and &#39;train_end_time&#39;.</span>
<span class="sd">    These are contextual and thus provided internally by Audition.</span>

<span class="sd">    Example:</span>
<span class="sd">    ```</span>
<span class="sd">    [{</span>
<span class="sd">        &#39;shared_parameters&#39;: [</span>
<span class="sd">                {&#39;metric&#39;: &#39;precision@&#39;, &#39;parameter&#39;: &#39;100_abs&#39;},</span>
<span class="sd">                {&#39;metric&#39;: &#39;recall@&#39;, &#39;parameter&#39;: &#39;100_abs&#39;},</span>
<span class="sd">            ],</span>
<span class="sd">            &#39;selection_rules&#39;: [</span>
<span class="sd">                {&#39;name&#39;: &#39;most_frequent_best_dist&#39;,</span>
<span class="sd">                    &#39;dist_from_best_case&#39;: [0.1, 0.2, 0.3]},</span>
<span class="sd">                {&#39;name&#39;: &#39;best_current_value&#39;}</span>
<span class="sd">            ]</span>
<span class="sd">    }]</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selection_rules</span> <span class="o">=</span> <span class="n">make_selection_rule_grid</span><span class="p">(</span><span class="n">rule_grid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_selection_rules</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.save_result_model_group_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_result_model_group_ids</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s1">&#39;results_model_group_ids.json&#39;</span><span class="p">)</span></code>

<a href="#triage.component.audition.Auditioner.save_result_model_group_ids" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save_result_model_group_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s2">&quot;results_model_group_ids.json&quot;</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">fname</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selection_rule_model_group_ids</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.set_one_metric_filter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_one_metric_filter</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="s1">&#39;precision@&#39;</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;100_abs&#39;</span><span class="p">,</span> <span class="n">max_from_best</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">threshold_value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span></code>

<a href="#triage.component.audition.Auditioner.set_one_metric_filter" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Set one thresholding metric filter
If one wnats to update multiple filters, one should use <code>update_metric_filters()</code> instead.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metric</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>model evaluation metric such as 'precision@'</p>
              </div>
            </td>
            <td>
                  <code>&#39;precision@&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>parameter</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>model evaluation parameter such as '100_abs'</p>
              </div>
            </td>
            <td>
                  <code>&#39;100_abs&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_from_best</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum value that the given metric can be below the best
for a given train end time</p>
              </div>
            </td>
            <td>
                  <code>0.05</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>threshold_value</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The thresold value that the given metric can be</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>plot</code>
            </td>
            <td>
                  <code>boolean, default True</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to also plot model group performance
and thresholding details at this time.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_one_metric_filter</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;precision@&quot;</span><span class="p">,</span>
    <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;100_abs&quot;</span><span class="p">,</span>
    <span class="n">max_from_best</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">threshold_value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set one thresholding metric filter</span>
<span class="sd">    If one wnats to update multiple filters, one should use `update_metric_filters()` instead.</span>

<span class="sd">    Args:</span>
<span class="sd">        metric (string): model evaluation metric such as &#39;precision@&#39;</span>
<span class="sd">        parameter (string): model evaluation parameter such as &#39;100_abs&#39;</span>
<span class="sd">        max_from_best (string): The maximum value that the given metric can be below the best</span>
<span class="sd">            for a given train end time</span>
<span class="sd">        threshold_value (string): The thresold value that the given metric can be</span>
<span class="sd">        plot (boolean, default True): Whether or not to also plot model group performance</span>
<span class="sd">            and thresholding details at this time.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_filters</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="n">metric</span><span class="p">,</span>
            <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="p">,</span>
            <span class="s2">&quot;max_from_best&quot;</span><span class="p">:</span> <span class="n">max_from_best</span><span class="p">,</span>
            <span class="s2">&quot;threshold_value&quot;</span><span class="p">:</span> <span class="n">threshold_value</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_metric_filters</span><span class="p">(</span><span class="n">new_filters</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="triage.component.audition.Auditioner.update_metric_filters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_metric_filters</span><span class="p">(</span><span class="n">new_filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#triage.component.audition.Auditioner.update_metric_filters" class="headerlink" title="Permanent link">#</a></h5>


    <div class="doc doc-contents ">

        <p>Update the thresholding metric filters</p>
<div class="codehilite"><pre><span></span><code>    Args:
        new_filters (list): A list of metrics to filter model
            groups on, and how to filter them. This is an identical format to
            the list given to &#39;initial_metric_filters&#39; in the constructor.
            Each entry should be a dict with the keys:
</code></pre></div>

<p>initial_metric_filters
                    metric (string) -- model evaluation metric, such as 'precision@'
                    parameter (string) -- model evaluation metric parameter,
                        such as '300_abs'
                    max_below_best (float) The maximum value that the given metric
                        can be below the best for a given train end time
                    threshold_value (float) The threshold value that the given metric can be
            plot (boolean, default True): Whether or not to also plot model group performance
                and thresholding details at this time.</p>


            <details class="quote">
              <summary>Source code in <code>src/triage/component/audition/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code>    <span class="k">def</span><span class="w"> </span><span class="nf">update_metric_filters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_filters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the thresholding metric filters</span>

<span class="sd">        Args:</span>
<span class="sd">            new_filters (list): A list of metrics to filter model</span>
<span class="sd">                groups on, and how to filter them. This is an identical format to</span>
<span class="sd">                the list given to &#39;initial_metric_filters&#39; in the constructor.</span>
<span class="sd">                Each entry should be a dict with the keys:</span>
<span class="sd">initial_metric_filters</span>
<span class="sd">                    metric (string) -- model evaluation metric, such as &#39;precision@&#39;</span>
<span class="sd">                    parameter (string) -- model evaluation metric parameter,</span>
<span class="sd">                        such as &#39;300_abs&#39;</span>
<span class="sd">                    max_below_best (float) The maximum value that the given metric</span>
<span class="sd">                        can be below the best for a given train end time</span>
<span class="sd">                    threshold_value (float) The threshold value that the given metric can be</span>
<span class="sd">            plot (boolean, default True): Whether or not to also plot model group performance</span>
<span class="sd">                and thresholding details at this time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updating metric filters with new config </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">new_filters</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_group_thresholder</span><span class="o">.</span><span class="n">update_filters</span><span class="p">(</span><span class="n">new_filters</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;After config update, plotting model groups&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_model_groups</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h2 id="triage.component.audition-functions">Functions<a href="#triage.component.audition-functions" class="headerlink" title="Permanent link">#</a></h2>



  </div>

    </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dssg/triage" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/datascifellows" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/center-for-data-science-and-public-policy-university-of-chicago" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../../js/mermaid.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>