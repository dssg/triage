
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Triage.">
      
      
      
        <link rel="canonical" href="http://dssg.github.io/triage/dirtyduck/dirty_duckling/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../problem_description/">
      
      
      <link rel="icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.4.6">
    
    
      
        <title>Dirty duckling - Triage Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../triage_docs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dirty-duckling-the-quick-start-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Triage Documentation" class="md-header__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Triage Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dirty duckling
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Triage Documentation" class="md-nav__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    Triage Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Online Tutorial (Google Colab)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get started with your own project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Get started with your own project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../triage_project_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suggested workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dirty Duck Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Dirty Duck Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Dirty duckling
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Dirty duckling
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install-triage-check" class="md-nav__link">
    1. Install Triage: Check!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-structure-your-data-events-and-entities" class="md-nav__link">
    2. Structure your data: Events (and entities)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-set-up-dirty-ducks-triage-configuration-file" class="md-nav__link">
    3. Set up Dirty duck's triage configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-run-triage" class="md-nav__link">
    4. Run triage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-look-at-results-of-your-duckling" class="md-nav__link">
    5. Look at results of your duckling!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-whats-next" class="md-nav__link">
    6. What's next?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#take-a-deeper-look-at-triage-through-this-example" class="md-nav__link">
    Take a deeper look at triage through this example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-started-with-your-own-project-and-data" class="md-nav__link">
    Get started with your own project and data
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Case studies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Case studies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../problem_description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problem description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../eis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Early Warning System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../inspections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource prioritization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Triage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../triage_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A deeper look into triage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Are you curious about the setup?
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Are you curious about the setup?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../data_preparation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data preparation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../for_the_impatient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Triage documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/experiment-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/feature-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Feature Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running an Experiment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Upgrading an Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Upgrading an Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/upgrade-to-v8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v7 -> v8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/upgrade-to-v7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v6 -> v7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/upgrade-to-v6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v5 -> v6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/upgrade-to-v5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v3/v4 -> v5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/temporal-validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temporal Validation Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/cohort-labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cohort and Label Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/prediction-ranking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prediction Ranking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Generation Recipe Book
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model selection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Model selection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../audition/audition_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro to Audition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../audition/model_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Selection Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Postmodeling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Postmodeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../postmodeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Postmodeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../postmodeling/postmodeling-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postmodeling & Crosstabs Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ml_governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../predictlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predictlist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../aws_batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaling up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Provisioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8_1" >
        
          
          <label class="md-nav__link" for="__nav_5_8_1" id="__nav_5_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Audition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8_1">
            <span class="md-nav__icon md-icon"></span>
            Audition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/auditioner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auditioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/audition-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audition Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/selection_rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selection Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audition/database-dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Dependencies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install-triage-check" class="md-nav__link">
    1. Install Triage: Check!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-structure-your-data-events-and-entities" class="md-nav__link">
    2. Structure your data: Events (and entities)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-set-up-dirty-ducks-triage-configuration-file" class="md-nav__link">
    3. Set up Dirty duck's triage configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-run-triage" class="md-nav__link">
    4. Run triage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-look-at-results-of-your-duckling" class="md-nav__link">
    5. Look at results of your duckling!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-whats-next" class="md-nav__link">
    6. What's next?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#take-a-deeper-look-at-triage-through-this-example" class="md-nav__link">
    Take a deeper look at triage through this example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-started-with-your-own-project-and-data" class="md-nav__link">
    Get started with your own project and data
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="dirty-duckling-the-quick-start-guide">Dirty duckling: the quick start guide<a class="headerlink" href="#dirty-duckling-the-quick-start-guide" title="Permanent link">#</a></h1>
<p><img alt="workflow" src="../images/quickstart.png" title="Triage Workflow" /></p>
<p>This <em>quickstart</em> guide follows the workflow explained
<a href="../../quickstart/">here</a>. The goal is to show you an instance of that
workflow using the <a href="https://data.cityofchicago.org/Health-Human-Services/Food-Inspections/4ijn-s7e5">Chicago Food Inspections
dataset</a>
data source.</p>
<p>We packed this a sample of Chicago Food Inspections data source as
part of the dirty duck tutorial.  Just run in the folder that contains
the <code>triage</code> local repository:</p>
<div class="codehilite"><pre><span></span><code>./tutorial.sh up
</code></pre></div>

<p>from you command line. This will start the database.</p>
<h3 id="1-install-triage-check">1. Install Triage: Check!<a class="headerlink" href="#1-install-triage-check" title="Permanent link">#</a></h3>
<p>We also containerized <code>triage</code>, so, in this tutorial it is already
installed for you! Just run</p>
<div class="codehilite"><pre><span></span><code>./tutorial.sh bastion
</code></pre></div>

<p>The prompt in your command line should change to something like</p>
<div class="codehilite"><pre><span></span><code>[triage@dirtyduck$:/dirtyduck]#
</code></pre></div>

<p>Type <code>triage</code>, if no error. You completed this step!</p>
<p>Now you have <code>triage</code> installed, with all its power at the point of
your fingers.</p>
<h3 id="2-structure-your-data-events-and-entities">2. Structure your data: Events (and entities)<a class="headerlink" href="#2-structure-your-data-events-and-entities" title="Permanent link">#</a></h3>
<p>As mentioned in the <a href="../../quickstart/#2-structure-your-data">quickstart
workflow</a>, <em>at least</em> you need
one table that contains <em>events</em>, i.e. something that happened to your
entities of interest somewhere at sometime. So you need <em>at least</em>
three columns in your data: <code>entity_id</code>, <code>event_id</code>, <code>date</code> (and
<code>location</code> if you have it would be a nice addition).</p>
<p>In dirtyduck, we provide you with two tables: <code>semantic.entities</code> and
<code>semantic.events</code>. The latter is the required minimum. We added the
<code>semantic.entities</code> table as a good practice.</p>
<p>This is the  simplest way to structure your data: as a series of
events connected to your entity of interest (people, organization,
business, etc.) that take place at a certain time. Each row of the
data will be an event.</p>
<p>For this quickstart tutorial, you don't need to interact manually with
the database, but, if you are curious you can peek inside it, and
verify how the <code>events</code> table look like.</p>
<p>Inside <code>bastion</code> you can connect to the database typing</p>
<div class="codehilite"><pre><span></span><code>psql $DATABASE_URL
</code></pre></div>

<p>This will change the prompt one more time to</p>
<div class="codehilite"><pre><span></span><code>food=#
</code></pre></div>

<p>Now, type (or copy-paste) the following</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span>
<span class="w">  </span><span class="n">event_id</span>
<span class="w">  </span><span class="n">entity_id</span><span class="p">,</span>
<span class="w">  </span><span class="nb">date</span><span class="p">,</span>
<span class="w">  </span><span class="n">zip_code</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">semantic</span><span class="p">.</span><span class="n">events</span>
<span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">001</span>
<span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>entity_id</th>
<th>date</th>
<th>zip_code</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1092838</td>
<td>2014-02-27</td>
<td>60657</td>
<td>license</td>
</tr>
<tr>
<td>1325036</td>
<td>2014-05-19</td>
<td>60612</td>
<td>canvass</td>
</tr>
<tr>
<td>1385431</td>
<td>2014-06-25</td>
<td>60651</td>
<td>complaint</td>
</tr>
<tr>
<td>1395315</td>
<td>2014-01-08</td>
<td>60707</td>
<td>canvass</td>
</tr>
<tr>
<td>1395916</td>
<td>2014-02-03</td>
<td>60641</td>
<td>canvass</td>
</tr>
</tbody>
</table>
<p>Each row in this table is an event with <code>event_id</code> and
<code>entity_id</code> (which links to the entity it happened to), a <code>date</code>
(when it happened), as well a location (the <code>zip_code</code> column). The
event will have attributes that describe it in its particularity, in
this case we are just showing one of those attributes: the type of the
inspection (<code>type</code>)</p>
<p>And, if you also want to see the <em>entities</em> in your data</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span>
<span class="w">  </span><span class="n">entity_id</span><span class="p">,</span><span class="w"> </span><span class="n">license_num</span><span class="p">,</span><span class="w"> </span><span class="n">facility</span><span class="p">,</span><span class="w"> </span><span class="n">facility_type</span><span class="p">,</span><span class="w"> </span><span class="n">activity_period</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">semantic</span><span class="p">.</span><span class="n">entities</span>
<span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">001</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>entity_id</th>
<th>license_num</th>
<th>facility</th>
<th>facility_type</th>
<th>activity_period</th>
</tr>
</thead>
<tbody>
<tr>
<td>2218</td>
<td>1223576</td>
<td>loretto hospital</td>
<td>hospital</td>
<td>[2014-02-27,)</td>
</tr>
<tr>
<td>2353</td>
<td>1804587</td>
<td>subway</td>
<td>restaurant</td>
<td>[2014-03-05,)</td>
</tr>
<tr>
<td>636</td>
<td>2002788</td>
<td>duck walk</td>
<td>restaurant</td>
<td>[2014-01-17,2016-02-29)</td>
</tr>
<tr>
<td>3748</td>
<td>1904141</td>
<td>zaragoza restaurant</td>
<td>restaurant</td>
<td>[2014-04-03,)</td>
</tr>
<tr>
<td>5118</td>
<td>2224978</td>
<td>saint cajetan</td>
<td>school</td>
<td>[2014-05-06,)</td>
</tr>
</tbody>
</table>
<p>Triage needs a field named <code>entity_id</code> (that needs to be of type
integer) to refer to the primary <em>entities</em> of interest in our
project.</p>
<p>When you're done exploring the database, you can exit the postgres command line interface by typing <code>\q</code></p>
<h3 id="3-set-up-dirty-ducks-triage-configuration-file">3. Set up Dirty duck's triage configuration file<a class="headerlink" href="#3-set-up-dirty-ducks-triage-configuration-file" title="Permanent link">#</a></h3>
<p>The configuration file sets up the modeling process to mirror the
operational scenario the models will be used in. This involves
defining the cohort to train/predict on, the outcome we're predicting,
how far in the future we're predicting, how often will the model be updated,
how often will the predicted list be used for interventions, what are
the resources available to intervene to define the evaluation metric,  etc.</p>
<p>Here's the <a href="https://github.com/dssg/triage/blob/master/example/dirtyduck/experiments/dirty-duckling.yaml">sample configuration
file</a> called <code>dirty-duckling.yaml</code></p>
<p>If you wish, you can check the content of the file with <code>cat
experiments/dirty-ducking.yaml</code></p>
<div class="highlight"><pre><span></span><code><span class="nt">config_version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;v8&#39;</span>

<span class="nt">model_comment</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;dirtyduck-quickstart&#39;</span>

<span class="nt">random_seed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234</span>

<span class="nt">temporal_config</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label_timespans</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;3months&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">label_config</span><span class="p">:</span>
<span class="w">  </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">select</span>
<span class="w">    </span><span class="no">entity_id,</span>
<span class="w">    </span><span class="no">bool_or(result = &#39;fail&#39;)::integer as outcome</span>
<span class="w">    </span><span class="no">from semantic.events</span>
<span class="w">    </span><span class="no">where &#39;{as_of_date}&#39;::timestamp &lt;= date</span>
<span class="w">    </span><span class="no">and date &lt; &#39;{as_of_date}&#39;::timestamp + interval &#39;{label_timespan}&#39;</span>
<span class="w">    </span><span class="no">group by entity_id</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;failed_inspections&#39;</span>

<span class="nt">feature_aggregations</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span>
<span class="w">    </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;inspections&#39;</span>
<span class="w">    </span><span class="nt">from_obj</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;semantic.events&#39;</span>
<span class="w">    </span><span class="nt">knowledge_date_column</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;date&#39;</span>

<span class="w">    </span><span class="nt">aggregates_imputation</span><span class="p">:</span>
<span class="w">      </span><span class="nt">count</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;zero_noflag&#39;</span>

<span class="w">    </span><span class="nt">aggregates</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span>
<span class="w">        </span><span class="nt">quantity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">total</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">        </span><span class="nt">metrics</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;count&#39;</span>

<span class="w">    </span><span class="nt">intervals</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;all&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">model_grid_preset</span><span class="p">:</span><span class="w">  </span><span class="s">&#39;quickstart&#39;</span>

<span class="nt">scoring</span><span class="p">:</span>
<span class="w">    </span><span class="nt">testing_metric_groups</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span>
<span class="w">          </span><span class="nt">metrics</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">precision@</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">thresholds</span><span class="p">:</span>
<span class="w">            </span><span class="nt">percentiles</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">10</span><span class="p p-Indicator">]</span>


<span class="w">    </span><span class="nt">training_metric_groups</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span>
<span class="w">          </span><span class="nt">metrics</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">precision@</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">thresholds</span><span class="p">:</span>
<span class="w">            </span><span class="nt">percentiles</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">10</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>This is the <em>minimum</em> configuration file, and it still has a lot of
sections (ML is a complex business!).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you use the minimum configuration file several parameters will fill
up using defaults. Most of the time those defaults are not the values
that your modeling of the problem needs! Please check
<a href="https://github.com/dssg/triage/blob/master/example/config/experiment.yaml">here</a>
to see which values are being used and act accordingly.</p>
</div>
<p><code>triage</code> uses/needs a <em>data connection</em> in order to work. The
connection will be created using the database credentials information
(name of the database, server, username, and password).</p>
<p>You could use a database configuration file <a href="https://github.com/dssg/triage/blob/master/example/config/database.yaml">here's an example
database configuation file</a> or you can setup an
environment variable named <code>$DATABASE_URL</code>, this is the approach taken
in the dirtyduck tutorial, its value inside <code>bastion</code> is</p>
<div class="codehilite"><pre><span></span><code>   postgresql://food_user:some_password@food_db/food
</code></pre></div>

<p>For the quick explanation of the sections check the <a href="../../quickstart/#3-set-up-triage-configuration-files">quickstart
workflow guide</a>. For a
detailed explanation about each section of the configuration file look
<a href="https://github.com/dssg/triage/blob/master/example/config/experiment.yaml">here</a></p>
<h3 id="4-run-triage">4. Run triage<a class="headerlink" href="#4-run-triage" title="Permanent link">#</a></h3>
<p>Now we are ready for run something! First we will validate the
configuration files by running:</p>
<div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>experiments/dirty-duckling.yaml<span class="w"> </span>--validate-only
</code></pre></div>
<p>If everything was OK (it should!), you will see this in your screen:</p>
<div class="highlight"><pre><span></span><code><span class="m">2020</span>-08-20<span class="w"> </span><span class="m">16</span>:55:34<span class="w"> </span>-<span class="w"> </span>SUCCESS<span class="w"> </span>Experiment<span class="w"> </span>validation<span class="w"> </span>ran<span class="w"> </span>to<span class="w"> </span>completion<span class="w"> </span>with<span class="w"> </span>no<span class="w"> </span>errors
<span class="m">2020</span>-08-20<span class="w"> </span><span class="m">16</span>:55:34<span class="w"> </span>-<span class="w"> </span>SUCCESS<span class="w"> </span>Experiment<span class="w"> </span><span class="o">(</span>a336de4800cec8964569d051dc56f85d<span class="o">)</span><span class="err">&#39;</span>s<span class="w"> </span>configuration<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>OK!
</code></pre></div>
<p>Now you can run the experiment with:</p>
<p><div class="highlight"><pre><span></span><code>triage<span class="w"> </span>experiment<span class="w"> </span>experiments/dirty-duckling.yaml
</code></pre></div>
That's it! If you see this message in your screen:</p>
<div class="codehilite"><pre><span></span><code> 2020-08-20 16:56:56 - SUCCESS Training, testing and evaluating models completed
 2020-08-20 16:56:56 - SUCCESS All matrices that were supposed to be build were built. Awesome!
 2020-08-20 16:56:56 - SUCCESS All models that were supposed to be trained were trained. Awesome!
 2020-08-20 16:56:56 - SUCCESS Experiment (a336de4800cec8964569d051dc56f85d) ran through completion
</code></pre></div>

<p>it would mean that <code>triage</code> actually built (in this order) cohort
(table <code>cohort_all_entities...</code>),
labels (table <code>labels_failed_inspections...</code>), features (schema
<code>features</code>), matrices (table <code>model_metdata.matrices</code> and folder
<code>matrices</code>), models (tables <code>triage_metadata.models</code> and
<code>triage_metadata.model_groups</code>; folder <code>trained_models</code>), predictions
(table <code>test_results.predictions</code>)
and evaluations (table <code>test_results.evaluations</code>).</p>
<h3 id="5-look-at-results-of-your-duckling">5. Look at results of your duckling!<a class="headerlink" href="#5-look-at-results-of-your-duckling" title="Permanent link">#</a></h3>
<p>Next, let's quickly check the tables in the schemas <code>triage_metadata</code> and
<code>test_results</code> to make sure everything worked. There you will find a lot
of information related to the performance of your models.</p>
<p>Still connected to the <code>bastion</code> docker container, you can connect to the
database by typing:</p>
<div class="codehilite"><pre><span></span><code>psql $DATABASE_URL
</code></pre></div>

<p>Again, you should see the postgreSQL prompt:</p>
<div class="codehilite"><pre><span></span><code>food=#
</code></pre></div>

<p>Tables in the <code>triage_metadata</code> schema have some general information about
experiments that you've run and the models they created. The <code>quickstart</code>
model grid preset should have built 3 models. Let's check with:</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span>
<span class="w">  </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">model_group_id</span><span class="p">,</span><span class="w"> </span><span class="n">model_type</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">triage_metadata</span><span class="p">.</span><span class="n">models</span><span class="p">;</span>
</code></pre></div>
<p>This should give you a result that looks something like:</p>
<table>
<thead>
<tr>
<th>model_id</th>
<th>model_group_id</th>
<th>model_type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>triage.component.catwalk.estimators.classifiers.ScaledLogisticRegression</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>sklearn.tree.DecisionTreeClassifier</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>sklearn.dummy.DummyClassifier</td>
</tr>
</tbody>
</table>
<p>If you want to see predictions for individual entities, you can check out
<code>test_results.predictions</code>, for instance:</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span>
<span class="w">  </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">entity_id</span><span class="p">,</span><span class="w"> </span><span class="n">as_of_date</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="p">,</span><span class="w"> </span><span class="n">label_value</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">test_results</span><span class="p">.</span><span class="n">predictions</span>
<span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">entity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15596</span>
<span class="w">  </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">model_id</span><span class="p">;</span>
</code></pre></div>
<p>This will give you something like:</p>
<table>
<thead>
<tr>
<th>model_id</th>
<th>entity_id</th>
<th>as_of_date</th>
<th>score</th>
<th>label_value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>15596</td>
<td>2017-09-29 00:00:00</td>
<td>0.21884</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>15596</td>
<td>2017-09-29 00:00:00</td>
<td>0.22831</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>15596</td>
<td>2017-09-29 00:00:00</td>
<td>0.25195</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Finally, <code>test_results.evaluations</code> holds some aggregate information on model
performance. In our config above, we only focused on precision in the top
ten percent, so let's see how the models are doing based on this:</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span>
<span class="w">  </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">metric</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="p">,</span>
<span class="w">  </span><span class="n">round</span><span class="p">(</span><span class="n">stochastic_value</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">stochatic_value</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">test_results</span><span class="p">.</span><span class="n">evaluations</span>
<span class="w">  </span><span class="k">where</span><span class="w"> </span><span class="n">metric</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;precision@&#39;</span>
<span class="w">        </span><span class="k">and</span><span class="w"> </span><span class="k">parameter</span><span class="o">=</span><span class="s1">&#39;10_pct&#39;</span>
<span class="w">  </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">model_id</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>model_id</th>
<th>metric</th>
<th>parameter</th>
<th>stochastic_value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>precision@</td>
<td>10_pct</td>
<td>0.287</td>
</tr>
<tr>
<td>2</td>
<td>precision@</td>
<td>10_pct</td>
<td>0.292</td>
</tr>
<tr>
<td>3</td>
<td>precision@</td>
<td>10_pct</td>
<td>0.237</td>
</tr>
</tbody>
</table>
<p>Not great! But then again, these were just a couple of overly simple model
specifications to get things up and running...</p>
<p>Feel free to explore some of the other tables in these schemas (note that
there's also a <code>train_results</code> schema with performance on the training
set as well as feature importances, where defined). When you're done
exploring the database, you can exit the postgres command line interface
by typing <code>\q</code></p>
<p>With a real modeling run you could (<em>should</em>) do model selection, postmodeling,
bias audit, etc. <code>triage</code> provides tools for doing all of that, but we
the purpose of this little experiment was just to get things up and running.
If you have successfully arrived to this point, you are all set to do your own
modeling (<a href="../../quickstart/">here's a good place to start</a>), but if you want to
go deeper in this example and learn about these other <code>triage</code> functions,
<a href="../problem_description/">continue reading our in-depth tutorial</a>.</p>
<h3 id="6-whats-next">6. What's next?<a class="headerlink" href="#6-whats-next" title="Permanent link">#</a></h3>
<h3 id="take-a-deeper-look-at-triage-through-this-example"><a href="../problem_description/">Take a deeper look at triage through this example</a><a class="headerlink" href="#take-a-deeper-look-at-triage-through-this-example" title="Permanent link">#</a></h3>
<h3 id="get-started-with-your-own-project-and-data"><a href="../../quickstart/">Get started with your own project and data</a><a class="headerlink" href="#get-started-with-your-own-project-and-data" title="Permanent link">#</a></h3>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dssg/triage" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/datascifellows" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/center-for-data-science-and-public-policy-university-of-chicago" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../js/mermaid.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>