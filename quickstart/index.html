
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Triage.">
      
      
      
        <link rel="canonical" href="http://dssg.github.io/triage/quickstart/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../triage_project_workflow/">
      
      
      <link rel="icon" href="../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.4.6">
    
    
      
        <title>Quickstart guide - Triage Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../triage_docs.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quickstart-guide-to-using-triage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Triage Documentation" class="md-header__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Triage Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quickstart guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Triage Documentation" class="md-nav__button md-logo" aria-label="Triage Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg>

    </a>
    Triage Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="http://github.com/dssg/triage" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dssg/triage
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Online Tutorial (Google Colab)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get started with your own project
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Get started with your own project
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Quickstart guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Quickstart guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install-triage" class="md-nav__link">
    1. Install Triage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-make-sure-you-have-access-to-a-postgres-database" class="md-nav__link">
    2. Make sure you have access to a Postgres database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-structure-your-data" class="md-nav__link">
    3. Structure your data
  </a>
  
    <nav class="md-nav" aria-label="3. Structure your data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-up-triage-configuration-files" class="md-nav__link">
    4. Set up Triage configuration files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-run-triage" class="md-nav__link">
    5. Run Triage
  </a>
  
    <nav class="md-nav" aria-label="5. Run Triage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-triage-cli" class="md-nav__link">
    Using Triage CLI:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-triage-python-interface" class="md-nav__link">
    Using the Triage python interface:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-look-at-results-generated-by-triage" class="md-nav__link">
    6. Look at results generated by Triage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-iterate-and-explore" class="md-nav__link">
    7. Iterate and Explore
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../triage_project_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suggested workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dirty Duck Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Dirty Duck Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/dirty_duckling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dirty duckling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Case studies
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Case studies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/problem_description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problem description
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/eis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Early Warning System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/inspections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource prioritization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Triage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/triage_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A deeper look into triage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Are you curious about the setup?
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Are you curious about the setup?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/data_preparation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data preparation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/for_the_impatient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Triage documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Triage documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/experiment-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/feature-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Feature Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/running/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running an Experiment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Upgrading an Experiment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Upgrading an Experiment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/upgrade-to-v8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v7 -> v8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/upgrade-to-v7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v6 -> v7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/upgrade-to-v6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v5 -> v6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/upgrade-to-v5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v3/v4 -> v5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/temporal-validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Temporal Validation Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/cohort-labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cohort and Label Deep Dive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/prediction-ranking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prediction Ranking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Generation Recipe Book
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../experiments/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model selection
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Model selection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../audition/audition_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro to Audition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../audition/model_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Selection Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/audition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Postmodeling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Postmodeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../postmodeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Postmodeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../postmodeling/postmodeling-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postmodeling & Crosstabs Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/ml_governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../predictlist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predictlist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dirtyduck/aws_batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaling up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Provisioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8_1" >
        
          
          <label class="md-nav__link" for="__nav_5_8_1" id="__nav_5_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Audition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8_1">
            <span class="md-nav__icon md-icon"></span>
            Audition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/audition/auditioner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auditioner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/audition/audition-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audition Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/audition/selection_rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selection Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../api/audition/database-dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Dependencies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install-triage" class="md-nav__link">
    1. Install Triage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-make-sure-you-have-access-to-a-postgres-database" class="md-nav__link">
    2. Make sure you have access to a Postgres database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-structure-your-data" class="md-nav__link">
    3. Structure your data
  </a>
  
    <nav class="md-nav" aria-label="3. Structure your data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-up-triage-configuration-files" class="md-nav__link">
    4. Set up Triage configuration files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-run-triage" class="md-nav__link">
    5. Run Triage
  </a>
  
    <nav class="md-nav" aria-label="5. Run Triage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-triage-cli" class="md-nav__link">
    Using Triage CLI:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-triage-python-interface" class="md-nav__link">
    Using the Triage python interface:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-look-at-results-generated-by-triage" class="md-nav__link">
    6. Look at results generated by Triage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-iterate-and-explore" class="md-nav__link">
    7. Iterate and Explore
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="quickstart-guide-to-using-triage">Quickstart guide to using Triage<a class="headerlink" href="#quickstart-guide-to-using-triage" title="Permanent link">#</a></h1>
<h3 id="1-install-triage">1. Install Triage<a class="headerlink" href="#1-install-triage" title="Permanent link">#</a></h3>
<p>Triage can be installed using pip or through python setup.py. It
requires Python 3.8+ and access to a postgresql database (for now). <em>If you're interested in helping port the queries to support other databases, let us know</em>. Ideally you have full access to a database so triage can create additional schemas
inside that it needs to store metadata, predictions, and evaluation
metrics.</p>
<p>To install Triage locally, you need:
- Ubuntu/RedHat
- Python 3.8+
- A PostgreSQL 9.6+ database with your source data (events,
  geographical data, etc) loaded.
  - <strong>NOTE</strong>: If your database is PostgreSQL 11+ you will get some
    speed improvements. We recommend updating to a recent
    version of PostgreSQL.
- Ample space on an available disk, (or for example in Amazon Web
  Services's S3), to store the matrices and models that will be created for your
  experiments</p>
<p>We also recommend installing triage inside a python virtual
environment for your project so you don't have any conflicts with
other packages installed on the machine. You can use <a href="https://virtualenv.pypa.io/en/latest/">virutalenv</a> or
<a href="https://github.com/pyenv/pyenv-installer/blob/master/README.rst">pyenv</a> to do that.</p>
<p>If you use <a href="https://github.com/pyenv/pyenv-installer/blob/master/README.rst">pyenv</a> (be sure your default python is 3.8+):
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pyenv<span class="w"> </span>virtualenv<span class="w"> </span>triage-env
$<span class="w"> </span>pyenv<span class="w"> </span>activate<span class="w"> </span>triage-env
<span class="o">(</span>triage-env<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>triage
</code></pre></div></p>
<p>If you use <a href="https://virtualenv.pypa.io/en/latest/">virtualenv</a> (be sure your default python is 3+):
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>virtualenv<span class="w"> </span>triage-env
$<span class="w"> </span>.<span class="w"> </span>triage-env/bin/activate
<span class="o">(</span>triage-env<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>triage
</code></pre></div>
If you get an error related to pg_config executable, run the following command (make sure you have sudo access):
<div class="highlight"><pre><span></span><code><span class="o">(</span>triage-env<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>libpq-dev<span class="w"> </span>python3.9-dev
</code></pre></div>
Then rerun pip install triage
<div class="highlight"><pre><span></span><code><span class="o">(</span>triage-env<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>triage
</code></pre></div>
To test if triage was installed correctly, type:
<div class="highlight"><pre><span></span><code><span class="o">(</span>triage-env<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>triage<span class="w"> </span>-h
</code></pre></div></p>
<p><img alt="workflow" src="../dirtyduck/images/quickstart.png" title="Triage Workflow" /></p>
<h3 id="2-make-sure-you-have-access-to-a-postgres-database">2. Make sure you have access to a Postgres database<a class="headerlink" href="#2-make-sure-you-have-access-to-a-postgres-database" title="Permanent link">#</a></h3>
<p>You'll need to have the servername, databasename, username, and password and put it in a credentials file in Step 5 below.</p>
<h3 id="3-structure-your-data">3. Structure your data<a class="headerlink" href="#3-structure-your-data" title="Permanent link">#</a></h3>
<p>The simplest way to start is to structure your data as a series of
events that are connected to your entity of interest (person, organization,
business, etc.) that take place at a certain time. Each row of the
data will be an <strong>event</strong>. Each event can have some <code>event_id</code>, and an
<code>entity_id</code> to link it to the entity it happened to, a date field, as well as
additional attributes about the event (<code>type</code>, for example) and the
entity (<code>age</code>, <code>gender</code>, <code>race</code>, etc.). A sample row might look like:</p>
<p><div class="highlight"><pre><span></span><code>event_id, entity_id, date, event_attribute (type), entity_attribute (age), entity_attribute (gender), ...
121, 19334, 1/1/2013, Placement, 12, Male, ...
</code></pre></div>
Triage needs a field named <code>entity_id</code> (<strong>that needs to be of type
integer</strong>) to refer to the primary <em>entities</em> of interest in our
project. It also needs a <strong>date field</strong> to specify the date each event occurred in order to use it appropriately in building and validating models.</p>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h4>
<ol>
<li>
<p>Healthcare: Typical data from EHR systems will have a table about the demographics of each patient. The <code>entity_id</code> will be the patient id (typically MRN) here. Then there are tables that have a row for each <code>encounter</code>, or <code>diagnosis</code>, or <code>procedure</code> with a patient identified (through the entity_id column), a timestamp, and additional information/columns about that <code>encounter</code>, or <code>diagnosis</code>, or <code>procedure</code>. All of these tables are provided as input to triage in a postgresql database.</p>
</li>
<li>
<p>Education: the entity_id will typically be the student_id and the events include things like a grade in a class in a given year, a test score n a test at a given time, graduation, etc.</p>
</li>
</ol>
<h3 id="4-set-up-triage-configuration-files">4. Set up Triage configuration files<a class="headerlink" href="#4-set-up-triage-configuration-files" title="Permanent link">#</a></h3>
<p>The Triage configuration file sets up the modeling process to match the
deployment scenario the models will be used in. This involves
defining the cohort to train/predict on, when the prediction is taking place, the outcome we're predicting,
how far out we're predicting, how often will the model be updated, how
often will the predicted list be used for interventions, the
quantity of resources available to intervene to define the evaluation metric,
etc.</p>
<p>A lot of details about each section of the configuration file can be found <a href="https://github.com/dssg/triage/blob/master/example/config/experiment.yaml">here</a>, but for the moment we'll start with the much simpler configuration file below:</p>
<div class="highlight"><pre><span></span><code><span class="nt">config_version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;v8&#39;</span>

<span class="nt">model_comment</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;quickstart_test_run&#39;</span>
<span class="nt">random_seed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1234</span>

<span class="nt">temporal_config</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label_timespans</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;&lt;&lt;</span><span class="nv"> </span><span class="s">YOUR_VALUE_HERE</span><span class="nv"> </span><span class="s">&gt;&gt;&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">label_config</span><span class="p">:</span>
<span class="w">  </span><span class="nt">filepath</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&lt;&lt;</span><span class="nv"> </span><span class="s">YOUR_VALUE_HERE</span><span class="nv"> </span><span class="s">&gt;&gt;&#39;</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;quickstart_label&#39;</span>

<span class="nt">feature_aggregations</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span>
<span class="w">    </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;qstest&#39;</span>
<span class="w">    </span><span class="nt">from_obj</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&lt;&lt;</span><span class="nv"> </span><span class="s">YOUR_VALUE_HERE</span><span class="nv"> </span><span class="s">&gt;&gt;&#39;</span>
<span class="w">    </span><span class="nt">knowledge_date_column</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;&lt;&lt;</span><span class="nv"> </span><span class="s">YOUR_VALUE_HERE</span><span class="nv"> </span><span class="s">&gt;&gt;&#39;</span>

<span class="w">    </span><span class="nt">aggregates_imputation</span><span class="p">:</span>
<span class="w">      </span><span class="nt">count</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;zero_noflag&#39;</span>

<span class="w">    </span><span class="nt">aggregates</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span>
<span class="w">        </span><span class="nt">quantity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">total</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">        </span><span class="nt">metrics</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;count&#39;</span>

<span class="w">    </span><span class="nt">intervals</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;all&#39;</span><span class="p p-Indicator">]</span>

<span class="nt">model_grid_preset</span><span class="p">:</span><span class="w">  </span><span class="s">&#39;quickstart&#39;</span>

<span class="nt">scoring</span><span class="p">:</span>
<span class="w">    </span><span class="nt">testing_metric_groups</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span>
<span class="w">          </span><span class="nt">metrics</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">precision@</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">thresholds</span><span class="p">:</span>
<span class="w">            </span><span class="nt">percentiles</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">]</span>


<span class="w">    </span><span class="nt">training_metric_groups</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span>
<span class="w">          </span><span class="nt">metrics</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">precision@</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">thresholds</span><span class="p">:</span>
<span class="w">            </span><span class="nt">percentiles</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">1</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>Copy that code block into your text editor of choice and save it as something like <code>quickstart-config.yaml</code> in your working directory for your project. You must fill out the sections marked <code>&lt;&lt; YOUR_VALUE_HERE &gt;&gt;</code> with values appropriate to your project.</p>
<p>The configuration file has a lot of sections. As a first pass, we will
infer a lot of the parameters that are needed in there and use
defaults for others. The primary parameters to specify (for now) are:</p>
<ol>
<li>
<p>TIMECHOP config: This sets up temporal parameters for training and
   testing models. The key things to set up here are your prediction
   horizon/timespan (how  far out in the future do you want to
   predict?). For example, if you want to predict an outcome within
   one year, you would set <code>label_timespans = '12month'</code>. See
   our <a href="https://dssg.github.io/triage/experiments/temporal-validation/">guide to Temporal
   Validation</a></p>
</li>
<li>
<p>LABEL config: This is a <code>sql</code> query that defines the outcome of
   interest. </p>
</li>
</ol>
<p>The query should return a relation containing the columns
   - <code>entity_id</code>: each <code>entity_id</code> affected by an event within the amount of time specified by <code>label_timespan</code> after a given <code>as_of_date</code>
   - <code>outcome</code>: a binary variable representing the events that happened to each entity, within the period specified by that <code>as_of_date</code> and <code>label_timespan</code></p>
<p>The query is parameterized over <code>as_of_date</code>, and <code>label_timespan</code>. These parameters are passed to your query as named keywords using the Python's <a href="https://docs.python.org/3.8/library/stdtypes.html#str.format"><code>str.format()</code></a> method. You can use them in your query by surrounding their keywords with curly braces (as in the example below).</p>
<p>See our
   <a href="https://dssg.github.io/triage/experiments/cohort-labels/">guide to Labels</a> for a more in-depth discussion of this topic.</p>
<p><strong>Example Query</strong> </p>
<p>Given a source table called <code>semantic.events</code>, with the following structure:</p>
<table>
<thead>
<tr>
<th>entity_id</th>
<th>event_date</th>
<th>label</th>
</tr>
</thead>
<tbody>
<tr>
<td>135</td>
<td>2014-06-04</td>
<td>1</td>
</tr>
<tr>
<td>246</td>
<td>2013-11-05</td>
<td>0</td>
</tr>
<tr>
<td>135</td>
<td>2013-04-19</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Assuming an early-warning problem, where a client wants to predict the likelihood that each entity experiences at least one positive event (such as a failed inspection) within some period of time, we could use the following label query:</p>
<div class="highlight"><pre><span></span><code>select entity_id, max(label) as outcome
from semantic.events
where &#39;{as_of_date}&#39;::timestamp &lt;= event_date
      and event_date &lt; &#39;{as_of_date}&#39;::timestamp + interval &#39;{label_timespan}&#39;
</code></pre></div>
<p>For each <code>as_of_date</code>, this query returns:
   - all <code>entity_ids</code> that experienced at least one event (such as an inspection) within the amount of time specified by <code>label_timespan</code>
   - a binary variable that equals 1 if an entity experienced at least one positive event (failed inspection), or 0 if all events experienced by the entity had negative results.</p>
<ol>
<li>
<p>FEATURE config: This is where we define different aggregate
   features/attributes/variables to be created and used in our machine
   learning models. We need at least one feature specified here. For the purposes of the quickstart, let's just take the count of all events before the modeling date. In the template, you can simply fill in <code>from_obj</code> with the <code>schema.table_name</code> where your data can be found (but this can also be a more complex query in general) and <code>knowledge_date_column</code> with that table's date column.</p>
</li>
<li>
<p>MODEL_GRID_PRESET config: Which models and hyperparameters we want to try in
   this run. We can start with <code>quickstart</code> that will run a quick
   model grid to test if everything works.</p>
</li>
</ol>
<p>Additionally, we will need a database credential file that contains the name of the database, server, username, and password to use to connect to it:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Connecting to the database requires a configuration file like this one but</span>
<span class="c1"># named database.yaml</span>

<span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">address.of.database.server</span>
<span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user_name</span>
<span class="nt">db</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">database_name</span>
<span class="nt">pass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user_password</span>
<span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">connection_port (often 5432)</span>
</code></pre></div>
<p>Copy this into a separate text file, fill in your values and save it as <code>database.yaml</code> in the working directory where you'll be running triage. Note, however, that if you have a <code>DATABASE_URL</code> environment variable set, triage will use this by default as well.</p>
<h3 id="5-run-triage">5. Run Triage<a class="headerlink" href="#5-run-triage" title="Permanent link">#</a></h3>
<p>An overview of different steps that take place when you run Triage is
<a href="https://dssg.github.io/triage/experiments/algorithm/">here</a></p>
<p>For this quickstart, you shouldn't need much free disk space, but note that in general your project path will contain both data matrices and trained model objects, so will need to have ample free space (you can also specify a location in S3 if you don't want to store the files locally).</p>
<p>If you want a bit more detail or documentation, a good overview of running an experiment in triage is <a href="https://dssg.github.io/triage/experiments/running/">here</a></p>
<h4 id="using-triage-cli">Using Triage CLI:<a class="headerlink" href="#using-triage-cli" title="Permanent link">#</a></h4>
<ol>
<li>
<p>Validate the configuration files by running:
<div class="highlight"><pre><span></span><code>triage experiment config.yaml --project-path &#39;/project_directory&#39; --validate-only
</code></pre></div></p>
</li>
<li>
<p>Run Triage
<div class="highlight"><pre><span></span><code>triage experiment config.yaml --project-path &#39;/project_directory&#39;
</code></pre></div></p>
</li>
</ol>
<h4 id="using-the-triage-python-interface">Using the Triage python interface:<a class="headerlink" href="#using-the-triage-python-interface" title="Permanent link">#</a></h4>
<ol>
<li>
<p>Import packages and load config files:
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">yaml</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">triage.experiments</span><span class="w"> </span><span class="kn">import</span> <span class="n">SingleThreadedExperiment</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.engine.url</span><span class="w"> </span><span class="kn">import</span> <span class="n">URL</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">triage.util.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;config.yaml&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">experiment_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fin</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;database.yaml&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">db_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fin</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Create a database engine and Triage experiment 
<div class="highlight"><pre><span></span><code><span class="c1"># create postgres database url</span>
<span class="n">db_url</span> <span class="o">=</span> <span class="n">URL</span><span class="p">(</span>
            <span class="s1">&#39;postgres&#39;</span><span class="p">,</span>
            <span class="n">host</span><span class="o">=</span><span class="n">db_config</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span>
            <span class="n">username</span><span class="o">=</span><span class="n">db_config</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">],</span>
            <span class="n">database</span><span class="o">=</span><span class="n">db_config</span><span class="p">[</span><span class="s1">&#39;db&#39;</span><span class="p">],</span>
            <span class="n">password</span><span class="o">=</span><span class="n">db_config</span><span class="p">[</span><span class="s1">&#39;pass&#39;</span><span class="p">],</span>
            <span class="n">port</span><span class="o">=</span><span class="n">db_config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">],</span>
        <span class="p">)</span>

<span class="n">experiment</span> <span class="o">=</span> <span class="n">SingleThreadedExperiment</span><span class="p">(</span>
    <span class="n">config</span><span class="o">=</span><span class="n">experiment_config</span>
    <span class="n">db_engine</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="n">db_url</span><span class="p">)</span>
    <span class="n">project_path</span><span class="o">=</span><span class="s1">&#39;/path/to/directory/to/save/data&#39;</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Validate your config</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="n">experiment</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
</code></pre></div>
<ol>
<li>Run Triage
<div class="highlight"><pre><span></span><code><span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div></li>
</ol>
<h3 id="6-look-at-results-generated-by-triage">6. Look at results generated by Triage<a class="headerlink" href="#6-look-at-results-generated-by-triage" title="Permanent link">#</a></h3>
<p>Once the feature/cohort/label/matrix building is done and the
experiment has moved onto modeling, check out the
<code>triage_metadata.models</code> and <code>test_results.evaluations</code> tables as data
starts to come in.</p>
<p>Here are a couple of quick queries to help get you started:</p>
<p>Tables in the <code>triage_metadata</code> schema have some general information about
experiments that you've run and the models they created. The <code>quickstart</code>
model grid preset should have built 3 models. You can check that with:</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span>
<span class="w">  </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">model_group_id</span><span class="p">,</span><span class="w"> </span><span class="n">model_type</span><span class="w"> </span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span>
<span class="w">      </span><span class="n">triage_metadata</span><span class="p">.</span><span class="n">models</span><span class="p">;</span>
</code></pre></div>
<p>This should give you a result that looks something like:</p>
<table>
<thead>
<tr>
<th>model_id</th>
<th>model_group_id</th>
<th>model_type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>triage.component.catwalk.estimators.classifiers.ScaledLogisticRegression</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>sklearn.tree.DecisionTreeClassifier</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>sklearn.dummy.DummyClassifier</td>
</tr>
</tbody>
</table>
<p>If you want to see predictions for individual entities, you can check out
<code>test_results.predictions</code>, for instance:</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span>
<span class="w">  </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">entity_id</span><span class="p">,</span><span class="w"> </span><span class="n">as_of_date</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="p">,</span><span class="w"> </span><span class="n">label_value</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">test_results</span><span class="p">.</span><span class="n">predictions</span>
<span class="w">  </span><span class="k">limit</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</code></pre></div>
<p>This will give you something like:</p>
<table>
<thead>
<tr>
<th>model_id</th>
<th>entity_id</th>
<th>as_of_date</th>
<th>score</th>
<th>label_value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>15596</td>
<td>2017-09-29 00:00:00</td>
<td>0.21884</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>15596</td>
<td>2017-09-29 00:00:00</td>
<td>0.22831</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>15596</td>
<td>2017-09-29 00:00:00</td>
<td>0.25195</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Finally, <code>test_results.evaluations</code> holds some aggregate information on model
performance:</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span>
<span class="w">  </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">metric</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">stochastic_value</span>
<span class="w">  </span><span class="k">from</span>
<span class="w">      </span><span class="n">test_results</span><span class="p">.</span><span class="n">evaluations</span>
<span class="w">  </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">model_id</span><span class="p">,</span><span class="w"> </span><span class="n">metric</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="p">;</span>
</code></pre></div>
<p>Feel free to explore some of the other tables in these schemas (note that
there's also a <code>train_results</code> schema with performance on the training
set as well as feature importances, where defined).</p>
<p>In a more complete modeling run, you could <code>audition</code> the mdoels created using jupyter notebooks to help you
select the best-performing model specifications from a wide variety of options (see the <a href="https://dssg.github.io/triage/audition/audition_intro/">overview of
model selection</a> and <a href="https://github.com/dssg/triage/blob/master/src/triage/component/audition/Audition_Tutorial.ipynb">tutorial audition notebook</a>) and <code>postmodeling</code> to delve deeper into understanding these models (see the <a href="https://github.com/dssg/triage/blob/master/src/triage/component/postmodeling/contrast/README.md">README</a> and <a href="https://github.com/dssg/triage/blob/master/src/triage/component/postmodeling/contrast/postmodeling_tutorial.ipynb">tutorial postmodeling notebook</a>).</p>
<p>You can also look at the directory you specified in the triage run as the project-path (--project-path '/project_directory') for matrices (stored as gzipped csvs) and model objects (stored as pickles).</p>
<h3 id="7-iterate-and-explore">7. Iterate and Explore<a class="headerlink" href="#7-iterate-and-explore" title="Permanent link">#</a></h3>
<p>Now that you have triage running, <a href="https://dssg.github.io/triage/triage_project_workflow/">continue onto the suggested project workflow</a> for some tips about how to iterate and tune the pipeline for your project.</p>
<p>Alternatively, if you'd like more of a guided tour with sample data, <em>check out our [colab tutorial]</em>(<a href="https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb">https://colab.research.google.com/github/dssg/triage/blob/master/example/colab/colab_triage.ipynb</a>) that is hosted so you don't need to install anything or the <a href="https://dssg.github.io/triage/dirtyduck/">dirty duck tutorial</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dssg/triage" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/datascifellows" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/center-for-data-science-and-public-policy-university-of-chicago" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../js/mermaid.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>